{"ast":null,"code":"var _jsxFileName = \"D:\\\\Traitors\\\\client\\\\src\\\\components\\\\ChatSystem.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatSystem({\n  gameState,\n  playerRole,\n  canChat,\n  chatRoom,\n  activeRoom,\n  roomMessages,\n  activePrivateChat,\n  privateMessages,\n  availableRooms,\n  newRoomName,\n  setNewRoomName,\n  onSendMessage,\n  onSendRoomMessage,\n  onSendPrivateMessage,\n  onCreateRoom,\n  onJoinRoom,\n  onStartPrivateChat,\n  socket\n}) {\n  _s();\n  const [message, setMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [typingUsers, setTypingUsers] = useState(new Set());\n  const messagesEndRef = useRef(null);\n  const typingTimeoutRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [roomMessages, privateMessages]);\n\n  // Typing indicator logic\n  useEffect(() => {\n    if (message && !isTyping) {\n      setIsTyping(true);\n      socket.emit('typing', {\n        isTyping: true,\n        roomId: activeRoom || chatRoom\n      });\n    } else if (!message && isTyping) {\n      setIsTyping(false);\n      socket.emit('typing', {\n        isTyping: false,\n        roomId: activeRoom || chatRoom\n      });\n    }\n\n    // Clear typing indicator after 3 seconds of no typing\n    if (typingTimeoutRef.current) {\n      clearTimeout(typingTimeoutRef.current);\n    }\n    if (message) {\n      typingTimeoutRef.current = setTimeout(() => {\n        setIsTyping(false);\n        socket.emit('typing', {\n          isTyping: false,\n          roomId: activeRoom || chatRoom\n        });\n      }, 3000);\n    }\n    return () => {\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current);\n      }\n    };\n  }, [message, isTyping, socket, activeRoom, chatRoom]);\n\n  // Listen for typing events\n  useEffect(() => {\n    const handleTyping = ({\n      playerId,\n      playerName,\n      isTyping: userTyping\n    }) => {\n      if (playerId === (socket === null || socket === void 0 ? void 0 : socket.id)) return;\n      setTypingUsers(prev => {\n        const newSet = new Set(prev);\n        if (userTyping) {\n          newSet.add(playerName);\n        } else {\n          newSet.delete(playerName);\n        }\n        return newSet;\n      });\n    };\n    socket.on('userTyping', handleTyping);\n    return () => socket.off('userTyping', handleTyping);\n  }, [socket]);\n  useEffect(() => {\n    // Listen for chatRoomInvited event\n    const handleChatRoomInvited = ({\n      roomId,\n      roomName\n    }) => {\n      alert(`You have been invited to join room: ${roomName}`);\n      onJoinRoom(roomId);\n    };\n    socket.on('chatRoomInvited', handleChatRoomInvited);\n    return () => socket.off('chatRoomInvited', handleChatRoomInvited);\n  }, [socket, onJoinRoom]);\n  const handleSendMessage = () => {\n    if (!message.trim()) return;\n    if (activeRoom) {\n      onSendRoomMessage();\n      setMessage('');\n    } else if (activePrivateChat) {\n      onSendPrivateMessage();\n      setMessage('');\n    } else if (canChat) {\n      onSendMessage(chatRoom, message);\n      setMessage('');\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const getCurrentChatTitle = () => {\n    if (activeRoom) {\n      const room = availableRooms.find(r => r.roomId === activeRoom);\n      return `Room: ${(room === null || room === void 0 ? void 0 : room.name) || 'Unknown'}`;\n    }\n    if (activePrivateChat) {\n      const player = gameState.players.find(p => p.id === activePrivateChat);\n      return `Private: ${(player === null || player === void 0 ? void 0 : player.name) || 'Unknown'}`;\n    }\n    if (canChat) {\n      return playerRole === 'traitor' ? \"Traitors' Secret Chat\" : 'Faithful Discussion';\n    }\n    return 'Chat';\n  };\n  const getCurrentMessages = () => {\n    if (activeRoom) {\n      return roomMessages;\n    }\n    if (activePrivateChat) {\n      return privateMessages[activePrivateChat] || [];\n    }\n    return [];\n  };\n  const getCurrentRoomMembers = () => {\n    if (activeRoom && gameState.allChatRooms) {\n      const room = gameState.allChatRooms.find(r => r.roomId === activeRoom);\n      return room ? room.members : [];\n    }\n    return [];\n  };\n  const getInitials = name => {\n    return name.split(' ').map(word => word.charAt(0)).join('').toUpperCase().slice(0, 2);\n  };\n  const renderMessage = (msg, index) => {\n    const isOwnMessage = msg.playerId === (socket === null || socket === void 0 ? void 0 : socket.id) || msg.from === (socket === null || socket === void 0 ? void 0 : socket.id);\n    const isSystem = !msg.playerId && !msg.from;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `chat-message ${isOwnMessage ? 'own-message' : 'other-message'}`,\n      \"aria-label\": isSystem ? 'System message' : `${msg.playerName} says: ${msg.message}`,\n      style: {\n        marginLeft: isOwnMessage ? 'auto' : '0',\n        marginRight: isOwnMessage ? '0' : 'auto',\n        maxWidth: '80%',\n        display: 'flex',\n        flexDirection: isOwnMessage ? 'row-reverse' : 'row',\n        alignItems: 'flex-end',\n        gap: '8px',\n        marginTop: 8,\n        marginBottom: 8\n      },\n      children: [!isSystem && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-avatar\",\n        style: {\n          width: 32,\n          height: 32,\n          borderRadius: '50%',\n          background: isOwnMessage ? 'linear-gradient(45deg, #ff6b6b, #ee5a24)' : 'linear-gradient(45deg, #4ecdc4, #44a08d)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: 12,\n          fontWeight: 'bold',\n          color: 'white',\n          flexShrink: 0,\n          boxShadow: isOwnMessage ? '0 2px 8px #ff6b6b55' : '0 2px 8px #4ecdc455'\n        },\n        \"aria-label\": `${msg.playerName}'s avatar`,\n        children: getInitials(msg.playerName)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: isSystem ? 'linear-gradient(90deg, #333 60%, #444 100%)' : isOwnMessage ? 'linear-gradient(90deg, #ff6b6b 60%, #ee5a24 100%)' : 'linear-gradient(90deg, #222 60%, #4ecdc4 100%)',\n          color: isSystem ? '#ffd700' : isOwnMessage ? '#fff' : '#fff',\n          borderLeft: isOwnMessage ? '4px solid #ff6b6b' : isSystem ? '4px solid #ffd700' : '4px solid #4ecdc4',\n          boxShadow: isOwnMessage ? '0 2px 8px #ff6b6b55' : isSystem ? '0 2px 8px #ffd70055' : '0 2px 8px #4ecdc455',\n          animation: 'message-pop-in 0.4s cubic-bezier(.4,2,.6,1)',\n          fontWeight: isSystem ? 700 : 400,\n          fontStyle: isSystem ? 'italic' : 'normal',\n          borderRadius: 14,\n          padding: '14px 18px',\n          fontSize: 16,\n          letterSpacing: 0.2,\n          transition: 'background 0.3s, box-shadow 0.3s',\n          position: 'relative',\n          overflow: 'hidden'\n        },\n        children: [!isSystem && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player-name\",\n          style: {\n            color: isOwnMessage ? '#fff' : '#4ecdc4',\n            fontWeight: 700,\n            marginBottom: 2\n          },\n          children: msg.playerName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-text\",\n          children: msg.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '10px',\n            color: 'rgba(255,255,255,0.5)',\n            marginTop: '4px',\n            textAlign: isOwnMessage ? 'right' : 'left'\n          },\n          children: new Date(msg.timestamp).toLocaleTimeString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this);\n  };\n  const renderTypingIndicator = () => {\n    if (typingUsers.size === 0) return null;\n    const typingList = Array.from(typingUsers).join(', ');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"typing-indicator\",\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '8px',\n        padding: '8px 16px',\n        color: 'rgba(255,255,255,0.7)',\n        fontSize: '14px',\n        fontStyle: 'italic'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"typing-dots\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [typingList, \" \", typingUsers.size === 1 ? 'is' : 'are', \" typing...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    \"aria-label\": \"Chat system\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-title\",\n        children: getCurrentChatTitle()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '12px',\n          color: 'rgba(255,255,255,0.6)'\n        },\n        children: [getCurrentMessages().length, \" messages\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), activeRoom && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 12,\n        color: '#4ecdc4',\n        marginBottom: 8\n      },\n      children: [\"Members: \", getCurrentRoomMembers().join(', ')]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }, this), playerRole === 'faithful' && gameState.phase === 'faithful_discussion' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-room-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        type: \"text\",\n        placeholder: \"New room name\",\n        value: newRoomName,\n        onChange: e => setNewRoomName(e.target.value),\n        style: {\n          flex: 1,\n          maxWidth: '200px'\n        },\n        \"aria-label\": \"New chat room name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: onCreateRoom,\n        disabled: !newRoomName,\n        style: {\n          fontSize: '12px',\n          padding: '8px 16px'\n        },\n        \"aria-label\": \"Create chat room\",\n        children: \"Create Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 9\n    }, this), playerRole === 'faithful' && gameState.phase === 'faithful_discussion' && availableRooms.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-room-list\",\n      children: availableRooms.map(room => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-room-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: room.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: () => onJoinRoom(room.roomId),\n          style: {\n            fontSize: '10px',\n            padding: '4px 8px'\n          },\n          \"aria-label\": `Join chat room ${room.name}`,\n          children: \"Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 15\n        }, this)]\n      }, room.roomId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      \"aria-live\": \"polite\",\n      children: [getCurrentMessages().map((msg, index) => renderMessage(msg, index)), renderTypingIndicator(), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        type: \"text\",\n        placeholder: \"Type a message...\",\n        value: message,\n        onChange: e => setMessage(e.target.value),\n        onKeyPress: handleKeyPress,\n        disabled: !canChat && !activeRoom && !activePrivateChat,\n        \"aria-label\": \"Type a message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: handleSendMessage,\n        disabled: !message.trim() || !canChat && !activeRoom && !activePrivateChat,\n        \"aria-label\": \"Send message\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatSystem, \"LbZA43NDxfEfgBHR/G2JP0xVlOU=\");\n_c = ChatSystem;\nexport default ChatSystem;\nvar _c;\n$RefreshReg$(_c, \"ChatSystem\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","ChatSystem","gameState","playerRole","canChat","chatRoom","activeRoom","roomMessages","activePrivateChat","privateMessages","availableRooms","newRoomName","setNewRoomName","onSendMessage","onSendRoomMessage","onSendPrivateMessage","onCreateRoom","onJoinRoom","onStartPrivateChat","socket","_s","message","setMessage","isTyping","setIsTyping","typingUsers","setTypingUsers","Set","messagesEndRef","typingTimeoutRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","emit","roomId","clearTimeout","setTimeout","handleTyping","playerId","playerName","userTyping","id","prev","newSet","add","delete","on","off","handleChatRoomInvited","roomName","alert","handleSendMessage","trim","handleKeyPress","e","key","shiftKey","preventDefault","getCurrentChatTitle","room","find","r","name","player","players","p","getCurrentMessages","getCurrentRoomMembers","allChatRooms","members","getInitials","split","map","word","charAt","join","toUpperCase","slice","renderMessage","msg","index","isOwnMessage","from","isSystem","className","style","marginLeft","marginRight","maxWidth","display","flexDirection","alignItems","gap","marginTop","marginBottom","children","width","height","borderRadius","background","justifyContent","fontSize","fontWeight","color","flexShrink","boxShadow","fileName","_jsxFileName","lineNumber","columnNumber","borderLeft","animation","fontStyle","padding","letterSpacing","transition","position","overflow","textAlign","Date","timestamp","toLocaleTimeString","renderTypingIndicator","size","typingList","Array","length","phase","type","placeholder","value","onChange","target","flex","onClick","disabled","ref","onKeyPress","_c","$RefreshReg$"],"sources":["D:/Traitors/client/src/components/ChatSystem.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nfunction ChatSystem({ \r\n  gameState, \r\n  playerRole, \r\n  canChat, \r\n  chatRoom, \r\n  activeRoom, \r\n  roomMessages, \r\n  activePrivateChat, \r\n  privateMessages, \r\n  availableRooms,\r\n  newRoomName,\r\n  setNewRoomName,\r\n  onSendMessage,\r\n  onSendRoomMessage,\r\n  onSendPrivateMessage,\r\n  onCreateRoom,\r\n  onJoinRoom,\r\n  onStartPrivateChat,\r\n  socket\r\n}) {\r\n  const [message, setMessage] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [typingUsers, setTypingUsers] = useState(new Set());\r\n  const messagesEndRef = useRef(null);\r\n  const typingTimeoutRef = useRef(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [roomMessages, privateMessages]);\r\n\r\n  // Typing indicator logic\r\n  useEffect(() => {\r\n    if (message && !isTyping) {\r\n      setIsTyping(true);\r\n      socket.emit('typing', { isTyping: true, roomId: activeRoom || chatRoom });\r\n    } else if (!message && isTyping) {\r\n      setIsTyping(false);\r\n      socket.emit('typing', { isTyping: false, roomId: activeRoom || chatRoom });\r\n    }\r\n\r\n    // Clear typing indicator after 3 seconds of no typing\r\n    if (typingTimeoutRef.current) {\r\n      clearTimeout(typingTimeoutRef.current);\r\n    }\r\n    if (message) {\r\n      typingTimeoutRef.current = setTimeout(() => {\r\n        setIsTyping(false);\r\n        socket.emit('typing', { isTyping: false, roomId: activeRoom || chatRoom });\r\n      }, 3000);\r\n    }\r\n\r\n    return () => {\r\n      if (typingTimeoutRef.current) {\r\n        clearTimeout(typingTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [message, isTyping, socket, activeRoom, chatRoom]);\r\n\r\n  // Listen for typing events\r\n  useEffect(() => {\r\n    const handleTyping = ({ playerId, playerName, isTyping: userTyping }) => {\r\n      if (playerId === socket?.id) return;\r\n      \r\n      setTypingUsers(prev => {\r\n        const newSet = new Set(prev);\r\n        if (userTyping) {\r\n          newSet.add(playerName);\r\n        } else {\r\n          newSet.delete(playerName);\r\n        }\r\n        return newSet;\r\n      });\r\n    };\r\n\r\n    socket.on('userTyping', handleTyping);\r\n    return () => socket.off('userTyping', handleTyping);\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    // Listen for chatRoomInvited event\r\n    const handleChatRoomInvited = ({ roomId, roomName }) => {\r\n      alert(`You have been invited to join room: ${roomName}`);\r\n      onJoinRoom(roomId);\r\n    };\r\n    socket.on('chatRoomInvited', handleChatRoomInvited);\r\n    return () => socket.off('chatRoomInvited', handleChatRoomInvited);\r\n  }, [socket, onJoinRoom]);\r\n\r\n  const handleSendMessage = () => {\r\n    if (!message.trim()) return;\r\n    if (activeRoom) {\r\n      onSendRoomMessage();\r\n      setMessage('');\r\n    } else if (activePrivateChat) {\r\n      onSendPrivateMessage();\r\n      setMessage('');\r\n    } else if (canChat) {\r\n      onSendMessage(chatRoom, message);\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const getCurrentChatTitle = () => {\r\n    if (activeRoom) {\r\n      const room = availableRooms.find(r => r.roomId === activeRoom);\r\n      return `Room: ${room?.name || 'Unknown'}`;\r\n    }\r\n    if (activePrivateChat) {\r\n      const player = gameState.players.find(p => p.id === activePrivateChat);\r\n      return `Private: ${player?.name || 'Unknown'}`;\r\n    }\r\n    if (canChat) {\r\n      return playerRole === 'traitor' ? \"Traitors' Secret Chat\" : 'Faithful Discussion';\r\n    }\r\n    return 'Chat';\r\n  };\r\n\r\n  const getCurrentMessages = () => {\r\n    if (activeRoom) {\r\n      return roomMessages;\r\n    }\r\n    if (activePrivateChat) {\r\n      return privateMessages[activePrivateChat] || [];\r\n    }\r\n    return [];\r\n  };\r\n\r\n  const getCurrentRoomMembers = () => {\r\n    if (activeRoom && gameState.allChatRooms) {\r\n      const room = gameState.allChatRooms.find(r => r.roomId === activeRoom);\r\n      return room ? room.members : [];\r\n    }\r\n    return [];\r\n  };\r\n\r\n  const getInitials = (name) => {\r\n    return name\r\n      .split(' ')\r\n      .map(word => word.charAt(0))\r\n      .join('')\r\n      .toUpperCase()\r\n      .slice(0, 2);\r\n  };\r\n\r\n  const renderMessage = (msg, index) => {\r\n    const isOwnMessage = msg.playerId === socket?.id || msg.from === socket?.id;\r\n    const isSystem = !msg.playerId && !msg.from;\r\n    \r\n    return (\r\n      <div \r\n        key={index} \r\n        className={`chat-message ${isOwnMessage ? 'own-message' : 'other-message'}`}\r\n        aria-label={isSystem ? 'System message' : `${msg.playerName} says: ${msg.message}`}\r\n        style={{\r\n          marginLeft: isOwnMessage ? 'auto' : '0',\r\n          marginRight: isOwnMessage ? '0' : 'auto',\r\n          maxWidth: '80%',\r\n          display: 'flex',\r\n          flexDirection: isOwnMessage ? 'row-reverse' : 'row',\r\n          alignItems: 'flex-end',\r\n          gap: '8px',\r\n          marginTop: 8,\r\n          marginBottom: 8,\r\n        }}\r\n      >\r\n        {/* Avatar/Initials */}\r\n        {!isSystem && (\r\n          <div\r\n            className=\"message-avatar\"\r\n            style={{\r\n              width: 32,\r\n              height: 32,\r\n              borderRadius: '50%',\r\n              background: isOwnMessage\r\n                ? 'linear-gradient(45deg, #ff6b6b, #ee5a24)'\r\n                : 'linear-gradient(45deg, #4ecdc4, #44a08d)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              fontSize: 12,\r\n              fontWeight: 'bold',\r\n              color: 'white',\r\n              flexShrink: 0,\r\n              boxShadow: isOwnMessage\r\n                ? '0 2px 8px #ff6b6b55'\r\n                : '0 2px 8px #4ecdc455',\r\n            }}\r\n            aria-label={`${msg.playerName}'s avatar`}\r\n          >\r\n            {getInitials(msg.playerName)}\r\n          </div>\r\n        )}\r\n        \r\n        {/* Message Bubble */}\r\n        <div\r\n          style={{\r\n            background: isSystem\r\n              ? 'linear-gradient(90deg, #333 60%, #444 100%)'\r\n              : isOwnMessage\r\n              ? 'linear-gradient(90deg, #ff6b6b 60%, #ee5a24 100%)'\r\n              : 'linear-gradient(90deg, #222 60%, #4ecdc4 100%)',\r\n            color: isSystem ? '#ffd700' : isOwnMessage ? '#fff' : '#fff',\r\n            borderLeft: isOwnMessage ? '4px solid #ff6b6b' : isSystem ? '4px solid #ffd700' : '4px solid #4ecdc4',\r\n            boxShadow: isOwnMessage ? '0 2px 8px #ff6b6b55' : isSystem ? '0 2px 8px #ffd70055' : '0 2px 8px #4ecdc455',\r\n            animation: 'message-pop-in 0.4s cubic-bezier(.4,2,.6,1)',\r\n            fontWeight: isSystem ? 700 : 400,\r\n            fontStyle: isSystem ? 'italic' : 'normal',\r\n            borderRadius: 14,\r\n            padding: '14px 18px',\r\n            fontSize: 16,\r\n            letterSpacing: 0.2,\r\n            transition: 'background 0.3s, box-shadow 0.3s',\r\n            position: 'relative',\r\n            overflow: 'hidden',\r\n          }}\r\n        >\r\n          {!isSystem && (\r\n            <div className=\"player-name\" style={{ color: isOwnMessage ? '#fff' : '#4ecdc4', fontWeight: 700, marginBottom: 2 }}>\r\n              {msg.playerName}\r\n            </div>\r\n          )}\r\n          <div className=\"message-text\">\r\n            {msg.message}\r\n          </div>\r\n          <div style={{ \r\n            fontSize: '10px', \r\n            color: 'rgba(255,255,255,0.5)', \r\n            marginTop: '4px',\r\n            textAlign: isOwnMessage ? 'right' : 'left'\r\n          }}>\r\n            {new Date(msg.timestamp).toLocaleTimeString()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderTypingIndicator = () => {\r\n    if (typingUsers.size === 0) return null;\r\n    \r\n    const typingList = Array.from(typingUsers).join(', ');\r\n    return (\r\n      <div className=\"typing-indicator\" style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px',\r\n        padding: '8px 16px',\r\n        color: 'rgba(255,255,255,0.7)',\r\n        fontSize: '14px',\r\n        fontStyle: 'italic',\r\n      }}>\r\n        <div className=\"typing-dots\">\r\n          <span className=\"dot\" />\r\n          <span className=\"dot\" />\r\n          <span className=\"dot\" />\r\n        </div>\r\n        <span>{typingList} {typingUsers.size === 1 ? 'is' : 'are'} typing...</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-container\" aria-label=\"Chat system\">\r\n      <div className=\"chat-header\">\r\n        <div className=\"chat-title\">{getCurrentChatTitle()}</div>\r\n        <div style={{ fontSize: '12px', color: 'rgba(255,255,255,0.6)' }}>\r\n          {getCurrentMessages().length} messages\r\n        </div>\r\n      </div>\r\n\r\n      {/* Show room members if in a group chat */}\r\n      {activeRoom && (\r\n        <div style={{ fontSize: 12, color: '#4ecdc4', marginBottom: 8 }}>\r\n          Members: {getCurrentRoomMembers().join(', ')}\r\n        </div>\r\n      )}\r\n\r\n      {/* Chat Room Controls for Faithful */}\r\n      {playerRole === 'faithful' && gameState.phase === 'faithful_discussion' && (\r\n        <div className=\"chat-room-controls\">\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"New room name\"\r\n            value={newRoomName}\r\n            onChange={e => setNewRoomName(e.target.value)}\r\n            style={{ flex: 1, maxWidth: '200px' }}\r\n            aria-label=\"New chat room name\"\r\n          />\r\n          <button \r\n            className=\"btn btn-secondary\" \r\n            onClick={onCreateRoom}\r\n            disabled={!newRoomName}\r\n            style={{ fontSize: '12px', padding: '8px 16px' }}\r\n            aria-label=\"Create chat room\"\r\n          >\r\n            Create Room\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Available Chat Rooms */}\r\n      {playerRole === 'faithful' && gameState.phase === 'faithful_discussion' && availableRooms.length > 0 && (\r\n        <div className=\"chat-room-list\">\r\n          {availableRooms.map(room => (\r\n            <div key={room.roomId} className=\"chat-room-item\">\r\n              <span>{room.name}</span>\r\n              <button \r\n                className=\"btn btn-secondary\"\r\n                onClick={() => onJoinRoom(room.roomId)}\r\n                style={{ fontSize: '10px', padding: '4px 8px' }}\r\n                aria-label={`Join chat room ${room.name}`}\r\n              >\r\n                Join\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Messages */}\r\n      <div className=\"chat-messages\" aria-live=\"polite\">\r\n        {getCurrentMessages().map((msg, index) => renderMessage(msg, index))}\r\n        {renderTypingIndicator()}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Input */}\r\n      <div className=\"chat-input\">\r\n        <input\r\n          className=\"input\"\r\n          type=\"text\"\r\n          placeholder=\"Type a message...\"\r\n          value={message}\r\n          onChange={e => setMessage(e.target.value)}\r\n          onKeyPress={handleKeyPress}\r\n          disabled={!canChat && !activeRoom && !activePrivateChat}\r\n          aria-label=\"Type a message\"\r\n        />\r\n        <button\r\n          className=\"btn\"\r\n          onClick={handleSendMessage}\r\n          disabled={!message.trim() || (!canChat && !activeRoom && !activePrivateChat)}\r\n          aria-label=\"Send message\"\r\n        >\r\n          Send\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatSystem; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}