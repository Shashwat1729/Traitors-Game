{"ast":null,"code":"import _objectSpread from\"D:/Traitors/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import GameTimeline from'./GameTimeline';import PlayerCard from'./PlayerCard';import ChatSystem from'./ChatSystem';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function formatTime(ms){const totalSeconds=Math.max(0,Math.floor((ms-Date.now())/1000));const min=Math.floor(totalSeconds/60);const sec=totalSeconds%60;return\"\".concat(min,\":\").concat(sec.toString().padStart(2,'0'));}const PHASE_LABELS={role_assignment:'Role Assignment',traitor_meeting:\"Traitors' Secret Meeting\",faithful_discussion:'Faithful Discussion',voting:'Circle of Doubt (Voting)',recruitment:'Traitor Recruitment',game_over:'Game Over'};function GameRoom(_ref){var _gameState$players$fi;let{gameState,playerRole,playerName,onVote,onSendMessage,onRecruitmentResponse,socket}=_ref;const[message,setMessage]=useState('');const[selectedVote,setSelectedVote]=useState(null);const[timer,setTimer]=useState('');const[activeRoom,setActiveRoom]=useState(null);const[roomMessages,setRoomMessages]=useState([]);const[privateMessages,setPrivateMessages]=useState({});const[newRoomName,setNewRoomName]=useState('');const[activePrivateChat,setActivePrivateChat]=useState(null);const[showPhaseTransition,setShowPhaseTransition]=useState(false);const[showRoleReveal,setShowRoleReveal]=useState(false);const[showCountdownWarning,setShowCountdownWarning]=useState(false);const[votingProgress,setVotingProgress]=useState(0);const[accessibilityAnnouncement,setAccessibilityAnnouncement]=useState('');const[traitorNames,setTraitorNames]=useState([]);// Announce accessibility events\nconst announceToScreenReader=message=>{setAccessibilityAnnouncement(message);setTimeout(()=>setAccessibilityAnnouncement(''),1000);};// Define variables that are used in useEffect hooks\nconst alivePlayers=gameState.players.filter(p=>!p.isEliminated);const canVote=gameState.phase==='voting'&&!((_gameState$players$fi=gameState.players.find(p=>p.id===socket.id))!==null&&_gameState$players$fi!==void 0&&_gameState$players$fi.hasVoted);const canChat=gameState.phase==='traitor_meeting'&&playerRole==='traitor'||gameState.phase==='faithful_discussion'&&playerRole==='faithful';const chatRoom=playerRole==='traitor'?'traitor':'faithful';const recruitmentOffer=gameState.recruitmentOffer&&gameState.recruitmentOffer.availableFaithful.includes(socket.id);const availableRooms=gameState.chatRooms||[];const canStartPrivateChat=gameState.phase==='faithful_discussion'||gameState.phase==='traitor_meeting';useEffect(()=>{if(gameState.phaseEndTime){const interval=setInterval(()=>{const timeLeft=Math.max(0,Math.floor((gameState.phaseEndTime-Date.now())/1000));setTimer(formatTime(gameState.phaseEndTime));// Show countdown warning for last 10 seconds\nif(timeLeft<=10&&timeLeft>0){setShowCountdownWarning(true);}else{setShowCountdownWarning(false);}},1000);setTimer(formatTime(gameState.phaseEndTime));return()=>clearInterval(interval);}},[gameState.phaseEndTime]);// Calculate voting progress\nuseEffect(()=>{if(gameState.phase==='voting'&&alivePlayers.length>0){const votedCount=alivePlayers.filter(p=>p.hasVoted).length;const progress=votedCount/alivePlayers.length*100;setVotingProgress(progress);}},[gameState.phase,alivePlayers]);// Phase transition effect\nuseEffect(()=>{setShowPhaseTransition(true);const timer=setTimeout(()=>setShowPhaseTransition(false),2000);return()=>clearTimeout(timer);},[gameState.phase]);// Role reveal effect\nuseEffect(()=>{if(gameState.phase==='role_assignment'&&playerRole){setShowRoleReveal(true);const timer=setTimeout(()=>setShowRoleReveal(false),5000);return()=>clearTimeout(timer);}},[gameState.phase,playerRole]);useEffect(()=>{const handleMessage=msg=>{// Handle message if needed\n};socket.on('message',handleMessage);return()=>socket.off('message',handleMessage);},[socket]);// Room chat events\nuseEffect(()=>{const handleRoomMessage=msg=>{setRoomMessages(prev=>[...prev,msg]);};socket.on('roomMessage',handleRoomMessage);return()=>socket.off('roomMessage',handleRoomMessage);},[socket]);// Private chat events\nuseEffect(()=>{const handlePrivateMessage=msg=>{setPrivateMessages(prev=>{const key=msg.from===socket.id?msg.to:msg.from;return _objectSpread(_objectSpread({},prev),{},{[key]:[...(prev[key]||[]),msg]});});};socket.on('privateMessage',handlePrivateMessage);return()=>socket.off('privateMessage',handlePrivateMessage);},[socket]);useEffect(()=>{const handlePrivateChatStarted=_ref2=>{let{targetId}=_ref2;setActivePrivateChat(targetId);};socket.on('privateChatStarted',handlePrivateChatStarted);return()=>socket.off('privateChatStarted',handlePrivateChatStarted);},[socket]);// Listen for elimination events\nuseEffect(()=>{const handlePlayerEliminated=_ref3=>{let{playerName,role}=_ref3;announceToScreenReader(\"\".concat(playerName,\" has been eliminated. They were a \").concat(role,\".\"));};socket.on('playerEliminated',handlePlayerEliminated);return()=>socket.off('playerEliminated',handlePlayerEliminated);},[socket]);// Listen for voting events\nuseEffect(()=>{const handleVoteCast=_ref4=>{let{voterName,targetName}=_ref4;announceToScreenReader(\"\".concat(voterName,\" voted to eliminate \").concat(targetName));};socket.on('voteCast',handleVoteCast);return()=>socket.off('voteCast',handleVoteCast);},[socket]);// Listen for recruitment events\nuseEffect(()=>{const handleRecruitmentOffer=_ref5=>{let{eliminatedPlayerName}=_ref5;announceToScreenReader(\"\".concat(eliminatedPlayerName,\" wants to recruit you to become a traitor\"));};socket.on('recruitmentOffer',handleRecruitmentOffer);return()=>socket.off('recruitmentOffer',handleRecruitmentOffer);},[socket]);useEffect(()=>{// Listen for roleAssignment event to get traitorNames\nconst handleRoleAssignment=_ref6=>{let{role,traitorNames}=_ref6;if(role==='traitor'&&traitorNames)setTraitorNames(traitorNames);};socket.on('roleAssignment',handleRoleAssignment);return()=>socket.off('roleAssignment',handleRoleAssignment);},[socket]);const handleCreateRoom=()=>{if(newRoomName){socket.emit('createChatRoom',{roomName:newRoomName});setNewRoomName('');}};const handleJoinRoom=roomId=>{socket.emit('joinChatRoom',{roomId});setActiveRoom(roomId);setRoomMessages([]);};const handleSendRoomMessage=()=>{if(activeRoom&&message){socket.emit('sendRoomMessage',{roomId:activeRoom,message});setMessage('');}};const handleStartPrivateChat=targetId=>{socket.emit('startPrivateChat',{targetId});};const handleSendPrivateMessage=()=>{if(activePrivateChat&&message){socket.emit('sendPrivateMessage',{targetId:activePrivateChat,message});setMessage('');}};const handleVote=targetPlayerId=>{const targetPlayer=alivePlayers.find(p=>p.id===targetPlayerId);setSelectedVote(targetPlayerId);onVote(targetPlayerId);announceToScreenReader(\"You voted to eliminate \".concat(targetPlayer===null||targetPlayer===void 0?void 0:targetPlayer.name));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{\"aria-live\":\"polite\",\"aria-atomic\":\"true\",style:{position:'absolute',left:'-10000px',width:'1px',height:'1px',overflow:'hidden'},children:accessibilityAnnouncement}),showPhaseTransition&&/*#__PURE__*/_jsxs(\"div\",{className:\"phase-transition\",children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"100%\",height:\"100%\",viewBox:\"0 0 1920 1080\",style:{position:'absolute',top:0,left:0,zIndex:1,pointerEvents:'none'},\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"mistGradient\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#fff\",stopOpacity:\"0.12\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"#fff\",stopOpacity:\"0.04\"})]}),/*#__PURE__*/_jsx(\"filter\",{id:\"blur\",x:\"-20%\",y:\"-20%\",width:\"140%\",height:\"140%\",children:/*#__PURE__*/_jsx(\"feGaussianBlur\",{stdDeviation:\"24\"})})]}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"960\",cy:\"540\",rx:\"900\",ry:\"180\",fill:\"url(#mistGradient)\",filter:\"url(#blur)\",style:{animation:'mist-move 6s linear infinite alternate'}}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"960\",cy:\"700\",rx:\"700\",ry:\"120\",fill:\"url(#mistGradient)\",filter:\"url(#blur)\",style:{animation:'mist-move2 8s linear infinite alternate'}})]}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',left:60,top:'30%',zIndex:2},children:/*#__PURE__*/_jsx(\"span\",{className:\"torch-flame\"})}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',right:60,top:'30%',zIndex:2},children:/*#__PURE__*/_jsx(\"span\",{className:\"torch-flame\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"phase-transition-text\",style:{position:'relative',zIndex:3},children:PHASE_LABELS[gameState.phase]})]}),['voting','recruitment','game_over'].includes(gameState.phase)&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(10,10,20,0.55)',zIndex:900,pointerEvents:'none',transition:'background 0.8s'},\"aria-hidden\":\"true\"}),showRoleReveal&&/*#__PURE__*/_jsxs(\"div\",{className:\"role-reveal\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Role\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',margin:'16px 0'},children:playerRole==='traitor'?'🦹 TRAITOR':'🛡️ FAITHFUL'}),/*#__PURE__*/_jsx(\"p\",{children:playerRole==='traitor'?'Your mission is to eliminate the Faithful without being discovered.':'Your mission is to identify and eliminate the Traitors.'})]}),/*#__PURE__*/_jsx(GameTimeline,{gameState:gameState,timer:timer}),/*#__PURE__*/_jsx(\"div\",{className:\"player-list\",children:gameState.players.map(player=>/*#__PURE__*/_jsx(PlayerCard,{player:player,playerRole:playerRole,canStartPrivateChat:canStartPrivateChat,onStartPrivateChat:handleStartPrivateChat,socket:socket},player.id))}),(playerRole==='faithful'||gameState.phase!=='faithful_discussion')&&/*#__PURE__*/_jsx(ChatSystem,{gameState:gameState,playerRole:playerRole,canChat:canChat,chatRoom:chatRoom,activeRoom:activeRoom,roomMessages:roomMessages,activePrivateChat:activePrivateChat,privateMessages:privateMessages,availableRooms:availableRooms,newRoomName:newRoomName,setNewRoomName:setNewRoomName,onSendMessage:onSendMessage,onSendRoomMessage:handleSendRoomMessage,onSendPrivateMessage:handleSendPrivateMessage,onCreateRoom:handleCreateRoom,onJoinRoom:handleJoinRoom,onStartPrivateChat:handleStartPrivateChat,socket:socket}),gameState.phase==='voting'&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",role:\"region\",\"aria-label\":\"Voting interface\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center',marginBottom:'20px',color:'#ff6b6b',letterSpacing:1,fontWeight:700,fontSize:24},children:\"\\uD83D\\uDDF3\\uFE0F Circle of Doubt - Vote to Eliminate\"}),/*#__PURE__*/_jsxs(\"div\",{role:\"progressbar\",\"aria-valuenow\":votingProgress,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\",\"aria-label\":\"Voting progress: \".concat(Math.round(votingProgress),\"% of players have voted\"),style:{background:'rgba(255,255,255,0.1)',borderRadius:8,height:8,marginBottom:20,overflow:'hidden',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'linear-gradient(90deg, #27ae60, #2ecc71)',height:'100%',width:\"\".concat(votingProgress,\"%\"),transition:'width 0.5s ease',borderRadius:8,boxShadow:'0 0 8px #27ae60'}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',fontSize:12,color:'rgba(255,255,255,0.8)',fontWeight:600},children:[Math.round(votingProgress),\"% Voted\"]})]}),showCountdownWarning&&/*#__PURE__*/_jsx(\"div\",{role:\"alert\",\"aria-live\":\"assertive\",style:{textAlign:'center',padding:'12px',background:'linear-gradient(45deg, #e74c3c, #c0392b)',borderRadius:8,marginBottom:16,animation:'countdown-pulse 0.5s infinite alternate',color:'white',fontWeight:'bold',fontSize:18},children:\"\\u23F0 Voting ends soon!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"voting-container\",\"aria-label\":\"Voting area\",children:alivePlayers.map(player=>/*#__PURE__*/_jsxs(\"button\",{className:\"vote-button\".concat(selectedVote===player.id?' selected':'').concat(player.hasVoted?' voted':''),onClick:()=>handleVote(player.id),disabled:player.id===socket.id||player.hasVoted,\"aria-label\":\"Vote to eliminate \".concat(player.name).concat(player.hasVoted?' - Already voted':'').concat(player.id===socket.id?' - This is you':''),\"aria-pressed\":selectedVote===player.id,style:{transition:'box-shadow 0.3s, transform 0.3s',boxShadow:selectedVote===player.id?'0 0 16px 4px #ff6b6b88':'0 2px 8px #0002',transform:selectedVote===player.id?'scale(1.05)':'scale(1)',border:player.hasVoted?'3px solid #27ae60':undefined,background:player.hasVoted?'linear-gradient(45deg, #27ae60, #2ecc71)':undefined,color:player.hasVoted?'#fff':undefined,position:'relative',overflow:'hidden'},children:[selectedVote===player.id&&/*#__PURE__*/_jsx(\"div\",{className:\"vote-ripple\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'28px',marginBottom:'8px',fontWeight:700},children:getInitials(player.name)}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:18},children:player.name}),player.hasVoted&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#fff',marginTop:6,animation:'vote-check-bounce 0.6s ease-out'},children:\"\\u2713 Voted\"}),player.id===socket.id&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#ffd700',marginTop:6,fontWeight:'bold'},children:\"You\"})]},player.id))}),/*#__PURE__*/_jsx(\"div\",{role:\"status\",\"aria-live\":\"polite\",style:{textAlign:'center',marginTop:20,padding:12,background:'rgba(255,255,255,0.05)',borderRadius:8,fontSize:14,color:'rgba(255,255,255,0.8)'},children:canVote?/*#__PURE__*/_jsx(\"span\",{children:\"Click on a player to cast your vote\"}):/*#__PURE__*/_jsx(\"span\",{children:\"You have already voted\"})})]}),gameState.phase==='recruitment'&&recruitmentOffer&&/*#__PURE__*/_jsxs(\"div\",{className:\"recruitment-offer\",role:\"alert\",\"aria-live\":\"assertive\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDD04 Traitor Recruitment\"}),/*#__PURE__*/_jsx(\"p\",{children:\"A traitor has been eliminated! They want to recruit you to join their side.\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',marginTop:'8px',opacity:0.8},children:\"If you accept, you will become a Traitor and help eliminate the remaining Faithful.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',display:'flex',gap:'16px',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>onRecruitmentResponse(true),children:\"Accept Recruitment\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:()=>onRecruitmentResponse(false),children:\"Remain Faithful\"})]})]}),gameState.phase==='game_over'&&/*#__PURE__*/_jsxs(\"div\",{className:\"game-over\",role:\"alert\",\"aria-live\":\"assertive\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFC6 Game Over\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',margin:'20px 0'},children:gameState.winner==='faithful'?'🛡️ FAITHFUL WIN!':'🦹 TRAITORS WIN!'}),/*#__PURE__*/_jsx(\"p\",{children:gameState.winner==='faithful'?'The Faithful successfully identified and eliminated all Traitors!':'The Traitors successfully eliminated the Faithful and took control!'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>window.location.reload(),style:{marginTop:'20px'},children:\"Play Again\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:10,left:10,zIndex:100},children:[playerRole==='traitor'&&/*#__PURE__*/_jsx(\"span\",{style:{background:'#ff6b6b',color:'#fff',padding:'8px 16px',borderRadius:8,fontWeight:700},children:\"\\uD83E\\uDDB9 TRAITOR\"}),playerRole==='faithful'&&/*#__PURE__*/_jsx(\"span\",{style:{background:'#4ecdc4',color:'#fff',padding:'8px 16px',borderRadius:8,fontWeight:700},children:\"\\uD83D\\uDEE1\\uFE0F FAITHFUL\"})]}),gameState.phase==='traitor_meeting'&&playerRole==='traitor'&&traitorNames.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#222',color:'#ff6b6b',padding:16,borderRadius:12,margin:'24px 0',textAlign:'center',fontWeight:700},children:[\"Other Traitors: \",traitorNames.join(', ')]}),gameState.phase==='faithful_discussion'&&playerRole==='faithful'&&gameState.allChatRooms&&/*#__PURE__*/_jsxs(\"div\",{style:{margin:'16px 0'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'#4ecdc4',marginBottom:8},children:\"Active Chat Rooms\"}),gameState.allChatRooms.map(room=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'#222',color:'#fff',borderRadius:8,padding:12,marginBottom:8},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700},children:room.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:13,color:'#4ecdc4',marginBottom:4},children:[\"Members: \",room.members.join(', ')]}),room.members.includes(playerName)&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:4},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,color:'#fff'},children:\"Invite: \"}),gameState.players.filter(p=>p.role==='faithful'&&!room.members.includes(p.name)&&!p.isEliminated).map(p=>/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",style:{fontSize:10,marginLeft:4},onClick:()=>socket.emit('inviteToChatRoom',{roomId:room.roomId,targetId:p.id}),children:p.name},p.id))]})]},room.roomId))]})]});}// Helper function for player initials\nfunction getInitials(name){return name.split(' ').map(word=>word.charAt(0)).join('').toUpperCase().slice(0,2);}export default GameRoom;","map":{"version":3,"names":["React","useState","useEffect","GameTimeline","PlayerCard","ChatSystem","jsx","_jsx","jsxs","_jsxs","formatTime","ms","totalSeconds","Math","max","floor","Date","now","min","sec","concat","toString","padStart","PHASE_LABELS","role_assignment","traitor_meeting","faithful_discussion","voting","recruitment","game_over","GameRoom","_ref","_gameState$players$fi","gameState","playerRole","playerName","onVote","onSendMessage","onRecruitmentResponse","socket","message","setMessage","selectedVote","setSelectedVote","timer","setTimer","activeRoom","setActiveRoom","roomMessages","setRoomMessages","privateMessages","setPrivateMessages","newRoomName","setNewRoomName","activePrivateChat","setActivePrivateChat","showPhaseTransition","setShowPhaseTransition","showRoleReveal","setShowRoleReveal","showCountdownWarning","setShowCountdownWarning","votingProgress","setVotingProgress","accessibilityAnnouncement","setAccessibilityAnnouncement","traitorNames","setTraitorNames","announceToScreenReader","setTimeout","alivePlayers","players","filter","p","isEliminated","canVote","phase","find","id","hasVoted","canChat","chatRoom","recruitmentOffer","availableFaithful","includes","availableRooms","chatRooms","canStartPrivateChat","phaseEndTime","interval","setInterval","timeLeft","clearInterval","length","votedCount","progress","clearTimeout","handleMessage","msg","on","off","handleRoomMessage","prev","handlePrivateMessage","key","from","to","_objectSpread","handlePrivateChatStarted","_ref2","targetId","handlePlayerEliminated","_ref3","role","handleVoteCast","_ref4","voterName","targetName","handleRecruitmentOffer","_ref5","eliminatedPlayerName","handleRoleAssignment","_ref6","handleCreateRoom","emit","roomName","handleJoinRoom","roomId","handleSendRoomMessage","handleStartPrivateChat","handleSendPrivateMessage","handleVote","targetPlayerId","targetPlayer","name","className","children","style","position","left","width","height","overflow","viewBox","top","zIndex","pointerEvents","x1","y1","x2","y2","offset","stopColor","stopOpacity","x","y","stdDeviation","cx","cy","rx","ry","fill","animation","right","background","transition","fontSize","margin","map","player","onStartPrivateChat","onSendRoomMessage","onSendPrivateMessage","onCreateRoom","onJoinRoom","textAlign","marginBottom","color","letterSpacing","fontWeight","round","borderRadius","boxShadow","transform","padding","onClick","disabled","border","undefined","getInitials","marginTop","opacity","display","gap","justifyContent","winner","window","location","reload","join","allChatRooms","room","members","marginLeft","split","word","charAt","toUpperCase","slice"],"sources":["D:/Traitors/client/src/components/GameRoom.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport GameTimeline from './GameTimeline';\r\nimport PlayerCard from './PlayerCard';\r\nimport ChatSystem from './ChatSystem';\r\n\r\nfunction formatTime(ms) {\r\n  const totalSeconds = Math.max(0, Math.floor((ms - Date.now()) / 1000));\r\n  const min = Math.floor(totalSeconds / 60);\r\n  const sec = totalSeconds % 60;\r\n  return `${min}:${sec.toString().padStart(2, '0')}`;\r\n}\r\n\r\nconst PHASE_LABELS = {\r\n  role_assignment: 'Role Assignment',\r\n  traitor_meeting: \"Traitors' Secret Meeting\",\r\n  faithful_discussion: 'Faithful Discussion',\r\n  voting: 'Circle of Doubt (Voting)',\r\n  recruitment: 'Traitor Recruitment',\r\n  game_over: 'Game Over',\r\n};\r\n\r\nfunction GameRoom({ gameState, playerRole, playerName, onVote, onSendMessage, onRecruitmentResponse, socket }) {\r\n  const [message, setMessage] = useState('');\r\n  const [selectedVote, setSelectedVote] = useState(null);\r\n  const [timer, setTimer] = useState('');\r\n  const [activeRoom, setActiveRoom] = useState(null);\r\n  const [roomMessages, setRoomMessages] = useState([]);\r\n  const [privateMessages, setPrivateMessages] = useState({});\r\n  const [newRoomName, setNewRoomName] = useState('');\r\n  const [activePrivateChat, setActivePrivateChat] = useState(null);\r\n  const [showPhaseTransition, setShowPhaseTransition] = useState(false);\r\n  const [showRoleReveal, setShowRoleReveal] = useState(false);\r\n  const [showCountdownWarning, setShowCountdownWarning] = useState(false);\r\n  const [votingProgress, setVotingProgress] = useState(0);\r\n  const [accessibilityAnnouncement, setAccessibilityAnnouncement] = useState('');\r\n  const [traitorNames, setTraitorNames] = useState([]);\r\n\r\n  // Announce accessibility events\r\n  const announceToScreenReader = (message) => {\r\n    setAccessibilityAnnouncement(message);\r\n    setTimeout(() => setAccessibilityAnnouncement(''), 1000);\r\n  };\r\n\r\n  // Define variables that are used in useEffect hooks\r\n  const alivePlayers = gameState.players.filter(p => !p.isEliminated);\r\n  const canVote = gameState.phase === 'voting' && !gameState.players.find(p => p.id === socket.id)?.hasVoted;\r\n  const canChat =\r\n    (gameState.phase === 'traitor_meeting' && playerRole === 'traitor') ||\r\n    (gameState.phase === 'faithful_discussion' && playerRole === 'faithful');\r\n  const chatRoom = playerRole === 'traitor' ? 'traitor' : 'faithful';\r\n  const recruitmentOffer = gameState.recruitmentOffer && gameState.recruitmentOffer.availableFaithful.includes(socket.id);\r\n  const availableRooms = gameState.chatRooms || [];\r\n  const canStartPrivateChat = gameState.phase === 'faithful_discussion' || gameState.phase === 'traitor_meeting';\r\n\r\n  useEffect(() => {\r\n    if (gameState.phaseEndTime) {\r\n      const interval = setInterval(() => {\r\n        const timeLeft = Math.max(0, Math.floor((gameState.phaseEndTime - Date.now()) / 1000));\r\n        setTimer(formatTime(gameState.phaseEndTime));\r\n        \r\n        // Show countdown warning for last 10 seconds\r\n        if (timeLeft <= 10 && timeLeft > 0) {\r\n          setShowCountdownWarning(true);\r\n        } else {\r\n          setShowCountdownWarning(false);\r\n        }\r\n      }, 1000);\r\n      setTimer(formatTime(gameState.phaseEndTime));\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [gameState.phaseEndTime]);\r\n\r\n  // Calculate voting progress\r\n  useEffect(() => {\r\n    if (gameState.phase === 'voting' && alivePlayers.length > 0) {\r\n      const votedCount = alivePlayers.filter(p => p.hasVoted).length;\r\n      const progress = (votedCount / alivePlayers.length) * 100;\r\n      setVotingProgress(progress);\r\n    }\r\n  }, [gameState.phase, alivePlayers]);\r\n\r\n  // Phase transition effect\r\n  useEffect(() => {\r\n    setShowPhaseTransition(true);\r\n    const timer = setTimeout(() => setShowPhaseTransition(false), 2000);\r\n    return () => clearTimeout(timer);\r\n  }, [gameState.phase]);\r\n\r\n  // Role reveal effect\r\n  useEffect(() => {\r\n    if (gameState.phase === 'role_assignment' && playerRole) {\r\n      setShowRoleReveal(true);\r\n      const timer = setTimeout(() => setShowRoleReveal(false), 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [gameState.phase, playerRole]);\r\n\r\n  useEffect(() => {\r\n    const handleMessage = (msg) => {\r\n      // Handle message if needed\r\n    };\r\n    socket.on('message', handleMessage);\r\n    return () => socket.off('message', handleMessage);\r\n  }, [socket]);\r\n\r\n  // Room chat events\r\n  useEffect(() => {\r\n    const handleRoomMessage = (msg) => {\r\n      setRoomMessages((prev) => [...prev, msg]);\r\n    };\r\n    socket.on('roomMessage', handleRoomMessage);\r\n    return () => socket.off('roomMessage', handleRoomMessage);\r\n  }, [socket]);\r\n\r\n  // Private chat events\r\n  useEffect(() => {\r\n    const handlePrivateMessage = (msg) => {\r\n      setPrivateMessages((prev) => {\r\n        const key = msg.from === socket.id ? msg.to : msg.from;\r\n        return {\r\n          ...prev,\r\n          [key]: [...(prev[key] || []), msg]\r\n        };\r\n      });\r\n    };\r\n    socket.on('privateMessage', handlePrivateMessage);\r\n    return () => socket.off('privateMessage', handlePrivateMessage);\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    const handlePrivateChatStarted = ({ targetId }) => {\r\n      setActivePrivateChat(targetId);\r\n    };\r\n    socket.on('privateChatStarted', handlePrivateChatStarted);\r\n    return () => socket.off('privateChatStarted', handlePrivateChatStarted);\r\n  }, [socket]);\r\n\r\n  // Listen for elimination events\r\n  useEffect(() => {\r\n    const handlePlayerEliminated = ({ playerName, role }) => {\r\n      announceToScreenReader(`${playerName} has been eliminated. They were a ${role}.`);\r\n    };\r\n    \r\n    socket.on('playerEliminated', handlePlayerEliminated);\r\n    return () => socket.off('playerEliminated', handlePlayerEliminated);\r\n  }, [socket]);\r\n\r\n  // Listen for voting events\r\n  useEffect(() => {\r\n    const handleVoteCast = ({ voterName, targetName }) => {\r\n      announceToScreenReader(`${voterName} voted to eliminate ${targetName}`);\r\n    };\r\n    \r\n    socket.on('voteCast', handleVoteCast);\r\n    return () => socket.off('voteCast', handleVoteCast);\r\n  }, [socket]);\r\n\r\n  // Listen for recruitment events\r\n  useEffect(() => {\r\n    const handleRecruitmentOffer = ({ eliminatedPlayerName }) => {\r\n      announceToScreenReader(`${eliminatedPlayerName} wants to recruit you to become a traitor`);\r\n    };\r\n    \r\n    socket.on('recruitmentOffer', handleRecruitmentOffer);\r\n    return () => socket.off('recruitmentOffer', handleRecruitmentOffer);\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    // Listen for roleAssignment event to get traitorNames\r\n    const handleRoleAssignment = ({ role, traitorNames }) => {\r\n      if (role === 'traitor' && traitorNames) setTraitorNames(traitorNames);\r\n    };\r\n    socket.on('roleAssignment', handleRoleAssignment);\r\n    return () => socket.off('roleAssignment', handleRoleAssignment);\r\n  }, [socket]);\r\n\r\n  const handleCreateRoom = () => {\r\n    if (newRoomName) {\r\n      socket.emit('createChatRoom', { roomName: newRoomName });\r\n      setNewRoomName('');\r\n    }\r\n  };\r\n\r\n  const handleJoinRoom = (roomId) => {\r\n    socket.emit('joinChatRoom', { roomId });\r\n    setActiveRoom(roomId);\r\n    setRoomMessages([]);\r\n  };\r\n\r\n  const handleSendRoomMessage = () => {\r\n    if (activeRoom && message) {\r\n      socket.emit('sendRoomMessage', { roomId: activeRoom, message });\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  const handleStartPrivateChat = (targetId) => {\r\n    socket.emit('startPrivateChat', { targetId });\r\n  };\r\n\r\n  const handleSendPrivateMessage = () => {\r\n    if (activePrivateChat && message) {\r\n      socket.emit('sendPrivateMessage', { targetId: activePrivateChat, message });\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  const handleVote = (targetPlayerId) => {\r\n    const targetPlayer = alivePlayers.find(p => p.id === targetPlayerId);\r\n    setSelectedVote(targetPlayerId);\r\n    onVote(targetPlayerId);\r\n    announceToScreenReader(`You voted to eliminate ${targetPlayer?.name}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* Accessibility Live Region */}\r\n      <div \r\n        aria-live=\"polite\" \r\n        aria-atomic=\"true\"\r\n        style={{ \r\n          position: 'absolute', \r\n          left: '-10000px', \r\n          width: '1px', \r\n          height: '1px', \r\n          overflow: 'hidden' \r\n        }}\r\n      >\r\n        {accessibilityAnnouncement}\r\n      </div>\r\n\r\n      {/* Phase Transition Overlay */}\r\n      {showPhaseTransition && (\r\n        <div className=\"phase-transition\">\r\n          {/* Animated SVG Overlay: Swirling Mist */}\r\n          <svg\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            viewBox=\"0 0 1920 1080\"\r\n            style={{ position: 'absolute', top: 0, left: 0, zIndex: 1, pointerEvents: 'none' }}\r\n            aria-hidden=\"true\"\r\n          >\r\n            <defs>\r\n              <linearGradient id=\"mistGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.12\" />\r\n                <stop offset=\"100%\" stopColor=\"#fff\" stopOpacity=\"0.04\" />\r\n              </linearGradient>\r\n              <filter id=\"blur\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\r\n                <feGaussianBlur stdDeviation=\"24\" />\r\n              </filter>\r\n            </defs>\r\n            <ellipse\r\n              cx=\"960\"\r\n              cy=\"540\"\r\n              rx=\"900\"\r\n              ry=\"180\"\r\n              fill=\"url(#mistGradient)\"\r\n              filter=\"url(#blur)\"\r\n              style={{ animation: 'mist-move 6s linear infinite alternate' }}\r\n            />\r\n            <ellipse\r\n              cx=\"960\"\r\n              cy=\"700\"\r\n              rx=\"700\"\r\n              ry=\"120\"\r\n              fill=\"url(#mistGradient)\"\r\n              filter=\"url(#blur)\"\r\n              style={{ animation: 'mist-move2 8s linear infinite alternate' }}\r\n            />\r\n          </svg>\r\n          {/* Flickering Torch Effect (left/right) */}\r\n          <div style={{ position: 'absolute', left: 60, top: '30%', zIndex: 2 }}>\r\n            <span className=\"torch-flame\" />\r\n          </div>\r\n          <div style={{ position: 'absolute', right: 60, top: '30%', zIndex: 2 }}>\r\n            <span className=\"torch-flame\" />\r\n          </div>\r\n          <div className=\"phase-transition-text\" style={{ position: 'relative', zIndex: 3 }}>\r\n            {PHASE_LABELS[gameState.phase]}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add a background overlay for tense phases */}\r\n      {['voting', 'recruitment', 'game_over'].includes(gameState.phase) && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100vw',\r\n          height: '100vh',\r\n          background: 'rgba(10,10,20,0.55)',\r\n          zIndex: 900,\r\n          pointerEvents: 'none',\r\n          transition: 'background 0.8s',\r\n        }} aria-hidden=\"true\" />\r\n      )}\r\n\r\n      {/* Role Reveal */}\r\n      {showRoleReveal && (\r\n        <div className=\"role-reveal\">\r\n          <h2>Your Role</h2>\r\n          <div style={{ fontSize: '32px', margin: '16px 0' }}>\r\n            {playerRole === 'traitor' ? '🦹 TRAITOR' : '🛡️ FAITHFUL'}\r\n          </div>\r\n          <p>\r\n            {playerRole === 'traitor' \r\n              ? 'Your mission is to eliminate the Faithful without being discovered.'\r\n              : 'Your mission is to identify and eliminate the Traitors.'\r\n            }\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Game Timeline */}\r\n      <GameTimeline gameState={gameState} timer={timer} />\r\n\r\n      {/* Player List */}\r\n      <div className=\"player-list\">\r\n        {gameState.players.map(player => (\r\n          <PlayerCard\r\n            key={player.id}\r\n            player={player}\r\n            playerRole={playerRole}\r\n            canStartPrivateChat={canStartPrivateChat}\r\n            onStartPrivateChat={handleStartPrivateChat}\r\n            socket={socket}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Chat System */}\r\n      {(playerRole === 'faithful' || gameState.phase !== 'faithful_discussion') && (\r\n        <ChatSystem\r\n          gameState={gameState}\r\n          playerRole={playerRole}\r\n          canChat={canChat}\r\n          chatRoom={chatRoom}\r\n          activeRoom={activeRoom}\r\n          roomMessages={roomMessages}\r\n          activePrivateChat={activePrivateChat}\r\n          privateMessages={privateMessages}\r\n          availableRooms={availableRooms}\r\n          newRoomName={newRoomName}\r\n          setNewRoomName={setNewRoomName}\r\n          onSendMessage={onSendMessage}\r\n          onSendRoomMessage={handleSendRoomMessage}\r\n          onSendPrivateMessage={handleSendPrivateMessage}\r\n          onCreateRoom={handleCreateRoom}\r\n          onJoinRoom={handleJoinRoom}\r\n          onStartPrivateChat={handleStartPrivateChat}\r\n          socket={socket}\r\n        />\r\n      )}\r\n\r\n      {/* Voting Interface */}\r\n      {gameState.phase === 'voting' && (\r\n        <div className=\"card\" role=\"region\" aria-label=\"Voting interface\">\r\n          <h3 style={{ textAlign: 'center', marginBottom: '20px', color: '#ff6b6b', letterSpacing: 1, fontWeight: 700, fontSize: 24 }}>\r\n            🗳️ Circle of Doubt - Vote to Eliminate\r\n          </h3>\r\n          \r\n          {/* Voting Progress Bar */}\r\n          <div \r\n            role=\"progressbar\"\r\n            aria-valuenow={votingProgress}\r\n            aria-valuemin=\"0\"\r\n            aria-valuemax=\"100\"\r\n            aria-label={`Voting progress: ${Math.round(votingProgress)}% of players have voted`}\r\n            style={{ \r\n              background: 'rgba(255,255,255,0.1)', \r\n              borderRadius: 8, \r\n              height: 8, \r\n              marginBottom: 20,\r\n              overflow: 'hidden',\r\n              position: 'relative'\r\n            }}\r\n          >\r\n            <div style={{\r\n              background: 'linear-gradient(90deg, #27ae60, #2ecc71)',\r\n              height: '100%',\r\n              width: `${votingProgress}%`,\r\n              transition: 'width 0.5s ease',\r\n              borderRadius: 8,\r\n              boxShadow: '0 0 8px #27ae60'\r\n            }} />\r\n            <div style={{\r\n              position: 'absolute',\r\n              top: '50%',\r\n              left: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              fontSize: 12,\r\n              color: 'rgba(255,255,255,0.8)',\r\n              fontWeight: 600\r\n            }}>\r\n              {Math.round(votingProgress)}% Voted\r\n            </div>\r\n          </div>\r\n\r\n          {/* Countdown Warning */}\r\n          {showCountdownWarning && (\r\n            <div \r\n              role=\"alert\"\r\n              aria-live=\"assertive\"\r\n              style={{\r\n                textAlign: 'center',\r\n                padding: '12px',\r\n                background: 'linear-gradient(45deg, #e74c3c, #c0392b)',\r\n                borderRadius: 8,\r\n                marginBottom: 16,\r\n                animation: 'countdown-pulse 0.5s infinite alternate',\r\n                color: 'white',\r\n                fontWeight: 'bold',\r\n                fontSize: 18\r\n              }}\r\n            >\r\n              ⏰ Voting ends soon!\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"voting-container\" aria-label=\"Voting area\">\r\n            {alivePlayers.map(player => (\r\n              <button\r\n                key={player.id}\r\n                className={`vote-button${selectedVote === player.id ? ' selected' : ''}${player.hasVoted ? ' voted' : ''}`}\r\n                onClick={() => handleVote(player.id)}\r\n                disabled={player.id === socket.id || player.hasVoted}\r\n                aria-label={`Vote to eliminate ${player.name}${player.hasVoted ? ' - Already voted' : ''}${player.id === socket.id ? ' - This is you' : ''}`}\r\n                aria-pressed={selectedVote === player.id}\r\n                style={{\r\n                  transition: 'box-shadow 0.3s, transform 0.3s',\r\n                  boxShadow: selectedVote === player.id ? '0 0 16px 4px #ff6b6b88' : '0 2px 8px #0002',\r\n                  transform: selectedVote === player.id ? 'scale(1.05)' : 'scale(1)',\r\n                  border: player.hasVoted ? '3px solid #27ae60' : undefined,\r\n                  background: player.hasVoted ? 'linear-gradient(45deg, #27ae60, #2ecc71)' : undefined,\r\n                  color: player.hasVoted ? '#fff' : undefined,\r\n                  position: 'relative',\r\n                  overflow: 'hidden'\r\n                }}\r\n              >\r\n                {/* Ripple effect for selection */}\r\n                {selectedVote === player.id && (\r\n                  <div className=\"vote-ripple\" />\r\n                )}\r\n                \r\n                <div style={{ fontSize: '28px', marginBottom: '8px', fontWeight: 700 }}>\r\n                  {getInitials(player.name)}\r\n                </div>\r\n                <div style={{ fontSize: 18 }}>{player.name}</div>\r\n                {player.hasVoted && (\r\n                  <div style={{ \r\n                    fontSize: '14px', \r\n                    color: '#fff', \r\n                    marginTop: 6,\r\n                    animation: 'vote-check-bounce 0.6s ease-out'\r\n                  }}>\r\n                    ✓ Voted\r\n                  </div>\r\n                )}\r\n                {player.id === socket.id && (\r\n                  <div style={{ \r\n                    fontSize: '12px', \r\n                    color: '#ffd700', \r\n                    marginTop: 6,\r\n                    fontWeight: 'bold'\r\n                  }}>\r\n                    You\r\n                  </div>\r\n                )}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Voting Instructions */}\r\n          <div \r\n            role=\"status\"\r\n            aria-live=\"polite\"\r\n            style={{\r\n              textAlign: 'center',\r\n              marginTop: 20,\r\n              padding: 12,\r\n              background: 'rgba(255,255,255,0.05)',\r\n              borderRadius: 8,\r\n              fontSize: 14,\r\n              color: 'rgba(255,255,255,0.8)'\r\n            }}\r\n          >\r\n            {canVote ? (\r\n              <span>Click on a player to cast your vote</span>\r\n            ) : (\r\n              <span>You have already voted</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Recruitment Offer */}\r\n      {gameState.phase === 'recruitment' && recruitmentOffer && (\r\n        <div \r\n          className=\"recruitment-offer\"\r\n          role=\"alert\"\r\n          aria-live=\"assertive\"\r\n        >\r\n          <h2>🔄 Traitor Recruitment</h2>\r\n          <p>A traitor has been eliminated! They want to recruit you to join their side.</p>\r\n          <p style={{ fontSize: '14px', marginTop: '8px', opacity: 0.8 }}>\r\n            If you accept, you will become a Traitor and help eliminate the remaining Faithful.\r\n          </p>\r\n          <div style={{ marginTop: '20px', display: 'flex', gap: '16px', justifyContent: 'center' }}>\r\n            <button className=\"btn btn-danger\" onClick={() => onRecruitmentResponse(true)}>\r\n              Accept Recruitment\r\n            </button>\r\n            <button className=\"btn btn-success\" onClick={() => onRecruitmentResponse(false)}>\r\n              Remain Faithful\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Game Over */}\r\n      {gameState.phase === 'game_over' && (\r\n        <div \r\n          className=\"game-over\"\r\n          role=\"alert\"\r\n          aria-live=\"assertive\"\r\n        >\r\n          <h2>🏆 Game Over</h2>\r\n          <div style={{ fontSize: '32px', margin: '20px 0' }}>\r\n            {gameState.winner === 'faithful' ? '🛡️ FAITHFUL WIN!' : '🦹 TRAITORS WIN!'}\r\n          </div>\r\n          <p>\r\n            {gameState.winner === 'faithful' \r\n              ? 'The Faithful successfully identified and eliminated all Traitors!'\r\n              : 'The Traitors successfully eliminated the Faithful and took control!'\r\n            }\r\n          </p>\r\n          <button \r\n            className=\"btn\" \r\n            onClick={() => window.location.reload()}\r\n            style={{ marginTop: '20px' }}\r\n          >\r\n            Play Again\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Role Badge */}\r\n      <div style={{ position: 'fixed', top: 10, left: 10, zIndex: 100 }}>\r\n        {playerRole === 'traitor' && (\r\n          <span style={{ background: '#ff6b6b', color: '#fff', padding: '8px 16px', borderRadius: 8, fontWeight: 700 }}>\r\n            🦹 TRAITOR\r\n          </span>\r\n        )}\r\n        {playerRole === 'faithful' && (\r\n          <span style={{ background: '#4ecdc4', color: '#fff', padding: '8px 16px', borderRadius: 8, fontWeight: 700 }}>\r\n            🛡️ FAITHFUL\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {/* Traitor Meeting: Show other traitors */}\r\n      {gameState.phase === 'traitor_meeting' && playerRole === 'traitor' && traitorNames.length > 0 && (\r\n        <div style={{ background: '#222', color: '#ff6b6b', padding: 16, borderRadius: 12, margin: '24px 0', textAlign: 'center', fontWeight: 700 }}>\r\n          Other Traitors: {traitorNames.join(', ')}\r\n        </div>\r\n      )}\r\n\r\n      {/* Faithful Discussion: Show all chat rooms and members, allow inviting */}\r\n      {gameState.phase === 'faithful_discussion' && playerRole === 'faithful' && gameState.allChatRooms && (\r\n        <div style={{ margin: '16px 0' }}>\r\n          <h4 style={{ color: '#4ecdc4', marginBottom: 8 }}>Active Chat Rooms</h4>\r\n          {gameState.allChatRooms.map(room => (\r\n            <div key={room.roomId} style={{ background: '#222', color: '#fff', borderRadius: 8, padding: 12, marginBottom: 8 }}>\r\n              <div style={{ fontWeight: 700 }}>{room.name}</div>\r\n              <div style={{ fontSize: 13, color: '#4ecdc4', marginBottom: 4 }}>Members: {room.members.join(', ')}</div>\r\n              {/* Invite others if you are a member */}\r\n              {room.members.includes(playerName) && (\r\n                <div style={{ marginTop: 4 }}>\r\n                  <span style={{ fontSize: 12, color: '#fff' }}>Invite: </span>\r\n                  {gameState.players.filter(p => p.role === 'faithful' && !room.members.includes(p.name) && !p.isEliminated).map(p => (\r\n                    <button key={p.id} className=\"btn btn-secondary\" style={{ fontSize: 10, marginLeft: 4 }} onClick={() => socket.emit('inviteToChatRoom', { roomId: room.roomId, targetId: p.id })}>\r\n                      {p.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Helper function for player initials\r\nfunction getInitials(name) {\r\n  return name\r\n    .split(' ')\r\n    .map(word => word.charAt(0))\r\n    .join('')\r\n    .toUpperCase()\r\n    .slice(0, 2);\r\n}\r\n\r\nexport default GameRoom; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}