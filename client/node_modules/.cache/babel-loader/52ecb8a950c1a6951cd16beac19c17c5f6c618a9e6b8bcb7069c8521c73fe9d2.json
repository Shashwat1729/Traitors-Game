{"ast":null,"code":"var _jsxFileName = \"D:\\\\Traitors\\\\client\\\\src\\\\components\\\\GameRoom.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport GameTimeline from './GameTimeline';\nimport PlayerCard from './PlayerCard';\nimport ChatSystem from './ChatSystem';\nimport PhaseBanner from './PhaseBanner';\nimport Toast from './Toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction formatTime(ms) {\n  const totalSeconds = Math.max(0, Math.floor((ms - Date.now()) / 1000));\n  const min = Math.floor(totalSeconds / 60);\n  const sec = totalSeconds % 60;\n  return `${min}:${sec.toString().padStart(2, '0')}`;\n}\nconst PHASE_LABELS = {\n  role_assignment: 'Role Assignment',\n  traitor_meeting: \"Traitors' Secret Meeting\",\n  group_discussion: 'Group Discussion',\n  voting: 'Circle of Doubt (Voting)',\n  recruitment: 'Traitor Recruitment',\n  game_over: 'Game Over'\n};\nfunction GameRoom({\n  gameState,\n  playerRole,\n  playerName,\n  onVote,\n  onSendMessage,\n  onRecruitmentResponse,\n  socket\n}) {\n  _s();\n  var _gameState$players$fi, _gameState$players$fi2, _gameState$players$fi3;\n  const [message, setMessage] = useState('');\n  const [selectedVote, setSelectedVote] = useState(null);\n  const [timer, setTimer] = useState('');\n  const [activeRoom, setActiveRoom] = useState(null);\n  const [privateMessages, setPrivateMessages] = useState({});\n  const [newRoomName, setNewRoomName] = useState('');\n  const [activePrivateChat, setActivePrivateChat] = useState(null);\n  const [showPhaseTransition, setShowPhaseTransition] = useState(false);\n  const [showRoleReveal, setShowRoleReveal] = useState(false);\n  const [showCountdownWarning, setShowCountdownWarning] = useState(false);\n  const [votingProgress, setVotingProgress] = useState(0);\n  const [accessibilityAnnouncement, setAccessibilityAnnouncement] = useState('');\n  const [traitorNames, setTraitorNames] = useState([]);\n  const [showFutureFeatures, setShowFutureFeatures] = useState(false);\n  const [toast, setToast] = useState({\n    message: '',\n    type: 'info'\n  });\n\n  // Announce accessibility events\n  const announceToScreenReader = message => {\n    setAccessibilityAnnouncement(message);\n    setTimeout(() => setAccessibilityAnnouncement(''), 1000);\n  };\n\n  // Define variables that are used in useEffect hooks\n  const alivePlayers = gameState.players.filter(p => !p.isEliminated);\n  const canVote = gameState.phase === 'voting' && !((_gameState$players$fi = gameState.players.find(p => p.id === socket.id)) !== null && _gameState$players$fi !== void 0 && _gameState$players$fi.hasVoted);\n  const canChat = gameState.phase === 'traitor_meeting' && playerRole === 'traitor' || gameState.phase === 'group_discussion' && !((_gameState$players$fi2 = gameState.players.find(p => p.id === socket.id)) !== null && _gameState$players$fi2 !== void 0 && _gameState$players$fi2.isEliminated);\n  const chatRoom = playerRole === 'traitor' ? 'traitor' : 'faithful';\n  const recruitmentOffer = gameState.recruitmentOffer && gameState.recruitmentOffer.availableFaithful.includes(socket.id);\n  const availableRooms = gameState.chatRooms || [];\n  const canStartPrivateChat = gameState.phase === 'group_discussion' || gameState.phase === 'traitor_meeting';\n  useEffect(() => {\n    if (gameState.phaseEndTime) {\n      const interval = setInterval(() => {\n        const timeLeft = Math.max(0, Math.floor((gameState.phaseEndTime - Date.now()) / 1000));\n        setTimer(formatTime(gameState.phaseEndTime));\n\n        // Show countdown warning for last 10 seconds\n        if (timeLeft <= 10 && timeLeft > 0) {\n          setShowCountdownWarning(true);\n        } else {\n          setShowCountdownWarning(false);\n        }\n      }, 1000);\n      setTimer(formatTime(gameState.phaseEndTime));\n      return () => clearInterval(interval);\n    }\n  }, [gameState.phaseEndTime]);\n\n  // Calculate voting progress\n  useEffect(() => {\n    if (gameState.phase === 'voting' && alivePlayers.length > 0) {\n      const votedCount = alivePlayers.filter(p => p.hasVoted).length;\n      const progress = votedCount / alivePlayers.length * 100;\n      setVotingProgress(progress);\n    }\n  }, [gameState.phase, alivePlayers]);\n\n  // Phase transition effect\n  useEffect(() => {\n    setShowPhaseTransition(true);\n    const timer = setTimeout(() => setShowPhaseTransition(false), 2000);\n    return () => clearTimeout(timer);\n  }, [gameState.phase]);\n\n  // Role reveal effect\n  useEffect(() => {\n    if (gameState.phase === 'role_assignment' && playerRole) {\n      setShowRoleReveal(true);\n      const timer = setTimeout(() => setShowRoleReveal(false), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [gameState.phase, playerRole]);\n  useEffect(() => {\n    const handleMessage = msg => {\n      // Handle message if needed\n    };\n    socket.on('message', handleMessage);\n    return () => socket.off('message', handleMessage);\n  }, [socket]);\n\n  // Private chat events\n  useEffect(() => {\n    const handlePrivateMessage = msg => {\n      setPrivateMessages(prev => {\n        const key = msg.from === socket.id ? msg.to : msg.from;\n        return {\n          ...prev,\n          [key]: [...(prev[key] || []), msg]\n        };\n      });\n    };\n    socket.on('privateMessage', handlePrivateMessage);\n    return () => socket.off('privateMessage', handlePrivateMessage);\n  }, [socket]);\n  useEffect(() => {\n    const handlePrivateChatStarted = ({\n      targetId\n    }) => {\n      setActivePrivateChat(targetId);\n    };\n    socket.on('privateChatStarted', handlePrivateChatStarted);\n    return () => socket.off('privateChatStarted', handlePrivateChatStarted);\n  }, [socket]);\n\n  // Listen for elimination events\n  useEffect(() => {\n    const handlePlayerEliminated = ({\n      playerName,\n      role\n    }) => {\n      announceToScreenReader(`${playerName} has been eliminated. They were a ${role}.`);\n    };\n    socket.on('playerEliminated', handlePlayerEliminated);\n    return () => socket.off('playerEliminated', handlePlayerEliminated);\n  }, [socket]);\n\n  // Listen for voting events\n  useEffect(() => {\n    const handleVoteCast = ({\n      voterName,\n      targetName\n    }) => {\n      announceToScreenReader(`${voterName} voted to eliminate ${targetName}`);\n    };\n    socket.on('voteCast', handleVoteCast);\n    return () => socket.off('voteCast', handleVoteCast);\n  }, [socket]);\n\n  // Listen for recruitment events\n  useEffect(() => {\n    const handleRecruitmentOffer = ({\n      eliminatedPlayerName\n    }) => {\n      announceToScreenReader(`${eliminatedPlayerName} wants to recruit you to become a traitor`);\n    };\n    socket.on('recruitmentOffer', handleRecruitmentOffer);\n    return () => socket.off('recruitmentOffer', handleRecruitmentOffer);\n  }, [socket]);\n  useEffect(() => {\n    // Listen for roleAssignment event to get traitorNames\n    const handleRoleAssignment = ({\n      role,\n      traitorNames\n    }) => {\n      if (role === 'traitor' && traitorNames) setTraitorNames(traitorNames);\n    };\n    socket.on('roleAssignment', handleRoleAssignment);\n    return () => socket.off('roleAssignment', handleRoleAssignment);\n  }, [socket]);\n  useEffect(() => {\n    if (playerRole !== 'traitor') return;\n    const handleConsensus = ({\n      consensus,\n      target\n    }) => {\n      const statusDiv = document.getElementById('traitor-consensus-status');\n      if (!statusDiv) return;\n      if (consensus === true) {\n        var _alivePlayers$find;\n        statusDiv.textContent = `Consensus reached! All traitors voted for ${((_alivePlayers$find = alivePlayers.find(p => p.id === target)) === null || _alivePlayers$find === void 0 ? void 0 : _alivePlayers$find.name) || 'the same player'}.`;\n        statusDiv.style.color = '#27ae60';\n      } else if (consensus === false) {\n        statusDiv.textContent = 'No consensus. All traitors must vote for the same player.';\n        statusDiv.style.color = '#e74c3c';\n      } else {\n        statusDiv.textContent = 'Waiting for all traitors to vote...';\n        statusDiv.style.color = '#ff6b6b';\n      }\n    };\n    socket.on('traitorConsensus', handleConsensus);\n    return () => socket.off('traitorConsensus', handleConsensus);\n  }, [playerRole, socket, alivePlayers]);\n  useEffect(() => {\n    if (playerRole !== 'traitor') return;\n    const handleNightKillConsensus = ({\n      consensus,\n      target\n    }) => {\n      const statusDiv = document.getElementById('traitor-night-kill-status');\n      if (!statusDiv) return;\n      if (consensus === true) {\n        var _alivePlayers$find2;\n        statusDiv.textContent = `Consensus reached! All traitors voted to eliminate ${((_alivePlayers$find2 = alivePlayers.find(p => p.id === target)) === null || _alivePlayers$find2 === void 0 ? void 0 : _alivePlayers$find2.name) || 'the same player'}.`;\n        statusDiv.style.color = '#27ae60';\n      } else if (consensus === false) {\n        statusDiv.textContent = 'No consensus. All traitors must vote for the same player.';\n        statusDiv.style.color = '#e74c3c';\n      } else {\n        statusDiv.textContent = 'Waiting for all traitors to vote...';\n        statusDiv.style.color = '#ff6b6b';\n      }\n    };\n    socket.on('traitorNightKillConsensus', handleNightKillConsensus);\n    return () => socket.off('traitorNightKillConsensus', handleNightKillConsensus);\n  }, [playerRole, socket, alivePlayers]);\n  const handleCreateRoom = () => {\n    if (newRoomName) {\n      socket.emit('createChatRoom', {\n        roomName: newRoomName\n      });\n      setNewRoomName('');\n    }\n  };\n  const handleJoinRoom = roomId => {\n    socket.emit('joinChatRoom', {\n      roomId\n    });\n    setActiveRoom(roomId);\n  };\n  const handleSendRoomMessage = () => {\n    if (activeRoom && message) {\n      socket.emit('sendRoomMessage', {\n        roomId: activeRoom,\n        message\n      });\n      setMessage('');\n    }\n  };\n  const handleStartPrivateChat = targetId => {\n    socket.emit('startPrivateChat', {\n      targetId\n    });\n  };\n  const handleSendPrivateMessage = () => {\n    if (activePrivateChat && message) {\n      socket.emit('sendPrivateMessage', {\n        targetId: activePrivateChat,\n        message\n      });\n      setMessage('');\n    }\n  };\n  const handleVote = targetPlayerId => {\n    const targetPlayer = alivePlayers.find(p => p.id === targetPlayerId);\n    setSelectedVote(targetPlayerId);\n    onVote(targetPlayerId);\n    announceToScreenReader(`You voted to eliminate ${targetPlayer === null || targetPlayer === void 0 ? void 0 : targetPlayer.name}`);\n  };\n  const handleNightKillVote = targetPlayerId => {\n    const targetPlayer = alivePlayers.find(p => p.id === targetPlayerId);\n    setSelectedVote(targetPlayerId);\n    socket.emit('traitorNightKillVote', {\n      targetPlayerId\n    });\n    announceToScreenReader(`You voted to eliminate ${targetPlayer === null || targetPlayer === void 0 ? void 0 : targetPlayer.name}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      \"aria-live\": \"polite\",\n      \"aria-atomic\": \"true\",\n      style: {\n        position: 'absolute',\n        left: '-10000px',\n        width: '1px',\n        height: '1px',\n        overflow: 'hidden'\n      },\n      children: accessibilityAnnouncement\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), showPhaseTransition && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"phase-transition\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"100%\",\n        height: \"100%\",\n        viewBox: \"0 0 1920 1080\",\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          zIndex: 1,\n          pointerEvents: 'none'\n        },\n        \"aria-hidden\": \"true\",\n        children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n          children: [/*#__PURE__*/_jsxDEV(\"linearGradient\", {\n            id: \"mistGradient\",\n            x1: \"0\",\n            y1: \"0\",\n            x2: \"0\",\n            y2: \"1\",\n            children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n              offset: \"0%\",\n              stopColor: \"#fff\",\n              stopOpacity: \"0.12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n              offset: \"100%\",\n              stopColor: \"#fff\",\n              stopOpacity: \"0.04\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"filter\", {\n            id: \"blur\",\n            x: \"-20%\",\n            y: \"-20%\",\n            width: \"140%\",\n            height: \"140%\",\n            children: /*#__PURE__*/_jsxDEV(\"feGaussianBlur\", {\n              stdDeviation: \"24\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ellipse\", {\n          cx: \"960\",\n          cy: \"540\",\n          rx: \"900\",\n          ry: \"180\",\n          fill: \"url(#mistGradient)\",\n          filter: \"url(#blur)\",\n          style: {\n            animation: 'mist-move 6s linear infinite alternate'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ellipse\", {\n          cx: \"960\",\n          cy: \"700\",\n          rx: \"700\",\n          ry: \"120\",\n          fill: \"url(#mistGradient)\",\n          filter: \"url(#blur)\",\n          style: {\n            animation: 'mist-move2 8s linear infinite alternate'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          left: 60,\n          top: '30%',\n          zIndex: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"torch-flame\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          right: 60,\n          top: '30%',\n          zIndex: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"torch-flame\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"phase-transition-text\",\n        style: {\n          position: 'relative',\n          zIndex: 3\n        },\n        children: PHASE_LABELS[gameState.phase]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 9\n    }, this), ['voting', 'recruitment', 'game_over'].includes(gameState.phase) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        background: 'rgba(10,10,20,0.55)',\n        zIndex: 900,\n        pointerEvents: 'none',\n        transition: 'background 0.8s'\n      },\n      \"aria-hidden\": \"true\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }, this), showRoleReveal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"role-reveal\",\n      style: {\n        zIndex: 1200,\n        position: 'fixed',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Role\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '32px',\n          margin: '16px 0'\n        },\n        children: playerRole === 'traitor' ? 'ðŸ¦¹ TRAITOR' : 'ðŸ›¡ï¸ FAITHFUL'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: playerRole === 'traitor' ? 'Your mission is to eliminate the Faithful without being discovered.' : 'Your mission is to identify and eliminate the Traitors.'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(GameTimeline, {\n      gameState: gameState,\n      timer: timer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-list\",\n      children: gameState.players.map(player => /*#__PURE__*/_jsxDEV(PlayerCard, {\n        player: player,\n        playerRole: playerRole,\n        canStartPrivateChat: canStartPrivateChat,\n        onStartPrivateChat: handleStartPrivateChat,\n        socket: socket\n      }, player.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), (gameState.phase !== 'group_discussion' || !((_gameState$players$fi3 = gameState.players.find(p => p.id === socket.id)) !== null && _gameState$players$fi3 !== void 0 && _gameState$players$fi3.isEliminated)) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        zIndex: 1500\n      },\n      children: /*#__PURE__*/_jsxDEV(ChatSystem, {\n        gameState: gameState,\n        playerRole: playerRole,\n        canChat: canChat,\n        chatRoom: chatRoom,\n        activeRoom: activeRoom,\n        setActiveRoom: setActiveRoom,\n        activePrivateChat: activePrivateChat,\n        setActivePrivateChat: setActivePrivateChat,\n        privateMessages: privateMessages,\n        availableRooms: availableRooms,\n        newRoomName: newRoomName,\n        setNewRoomName: setNewRoomName,\n        onSendMessage: onSendMessage,\n        onSendRoomMessage: handleSendRoomMessage,\n        onSendPrivateMessage: handleSendPrivateMessage,\n        onCreateRoom: handleCreateRoom,\n        onJoinRoom: handleJoinRoom,\n        onStartPrivateChat: handleStartPrivateChat,\n        socket: socket\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 9\n    }, this), gameState.phase === 'voting' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      role: \"region\",\n      \"aria-label\": \"Voting interface\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: '20px',\n          color: '#ff6b6b',\n          letterSpacing: 1,\n          fontWeight: 700,\n          fontSize: 24\n        },\n        children: \"\\uD83D\\uDDF3\\uFE0F Circle of Doubt - Vote to Eliminate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        role: \"progressbar\",\n        \"aria-valuenow\": votingProgress,\n        \"aria-valuemin\": \"0\",\n        \"aria-valuemax\": \"100\",\n        \"aria-label\": `Voting progress: ${Math.round(votingProgress)}% of players have voted`,\n        style: {\n          background: 'rgba(255,255,255,0.1)',\n          borderRadius: 8,\n          height: 8,\n          marginBottom: 20,\n          overflow: 'hidden',\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'linear-gradient(90deg, #27ae60, #2ecc71)',\n            height: '100%',\n            width: `${votingProgress}%`,\n            transition: 'width 0.5s ease',\n            borderRadius: 8,\n            boxShadow: '0 0 8px #27ae60'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            fontSize: 12,\n            color: 'rgba(255,255,255,0.8)',\n            fontWeight: 600\n          },\n          children: [Math.round(votingProgress), \"% Voted\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 11\n      }, this), showCountdownWarning && /*#__PURE__*/_jsxDEV(\"div\", {\n        role: \"alert\",\n        \"aria-live\": \"assertive\",\n        style: {\n          textAlign: 'center',\n          padding: '12px',\n          background: 'linear-gradient(45deg, #e74c3c, #c0392b)',\n          borderRadius: 8,\n          marginBottom: 16,\n          animation: 'countdown-pulse 0.5s infinite alternate',\n          color: 'white',\n          fontWeight: 'bold',\n          fontSize: 18\n        },\n        children: \"\\u23F0 Voting ends soon!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"voting-container\",\n        \"aria-label\": \"Voting area\",\n        children: alivePlayers.map(player => {\n          var _gameState$players$fi4;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `vote-button${selectedVote === player.id ? ' selected' : ''}${player.hasVoted ? ' voted' : ''}`,\n            onClick: () => handleVote(player.id),\n            disabled: player.id === socket.id || ((_gameState$players$fi4 = gameState.players.find(p => p.id === socket.id)) === null || _gameState$players$fi4 === void 0 ? void 0 : _gameState$players$fi4.hasVoted),\n            \"aria-label\": `Vote to eliminate ${player.name}${player.hasVoted ? ' - Already voted' : ''}${player.id === socket.id ? ' - This is you' : ''}`,\n            \"aria-pressed\": selectedVote === player.id,\n            style: {\n              transition: 'box-shadow 0.3s, transform 0.3s',\n              boxShadow: selectedVote === player.id ? '0 0 16px 4px #ff6b6b88' : '0 2px 8px #0002',\n              transform: selectedVote === player.id ? 'scale(1.05)' : 'scale(1)',\n              border: player.hasVoted ? '3px solid #27ae60' : undefined,\n              background: player.hasVoted ? 'linear-gradient(45deg, #27ae60, #2ecc71)' : undefined,\n              color: player.hasVoted ? '#fff' : undefined,\n              position: 'relative',\n              overflow: 'hidden'\n            },\n            children: [selectedVote === player.id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vote-ripple\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '28px',\n                marginBottom: '8px',\n                fontWeight: 700\n              },\n              children: getInitials(player.name)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 18\n              },\n              children: player.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this), player.hasVoted && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '14px',\n                color: '#fff',\n                marginTop: 6,\n                animation: 'vote-check-bounce 0.6s ease-out'\n              },\n              children: \"\\u2713 Voted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 19\n            }, this), player.id === socket.id && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#ffd700',\n                marginTop: 6,\n                fontWeight: 'bold'\n              },\n              children: \"You\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 19\n            }, this)]\n          }, player.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        role: \"status\",\n        \"aria-live\": \"polite\",\n        style: {\n          textAlign: 'center',\n          marginTop: 20,\n          padding: 12,\n          background: 'rgba(255,255,255,0.05)',\n          borderRadius: 8,\n          fontSize: 14,\n          color: 'rgba(255,255,255,0.8)'\n        },\n        children: canVote ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Click on a player to cast your vote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"You have already voted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 11\n      }, this), gameState.phase === 'traitor_meeting' && playerRole === 'traitor' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"traitor-night-kill\",\n        style: {\n          margin: '20px 0',\n          padding: 16,\n          background: '#222',\n          borderRadius: 8,\n          color: '#ff6b6b'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Traitor Night Kill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Select a player to eliminate tonight. All traitors must agree.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 8,\n            flexWrap: 'wrap'\n          },\n          children: alivePlayers.filter(p => p.role !== 'traitor').map(player => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `btn${selectedVote === player.id ? ' btn-danger' : ' btn-secondary'}`,\n            onClick: () => handleNightKillVote(player.id),\n            disabled: selectedVote === player.id,\n            children: player.name\n          }, player.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"traitor-night-kill-status\",\n          style: {\n            marginTop: 12,\n            fontWeight: 700\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 9\n    }, this), gameState.phase === 'recruitment' && recruitmentOffer && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recruitment-offer\",\n      role: \"alert\",\n      \"aria-live\": \"assertive\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDD04 Traitor Recruitment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"A traitor has been eliminated! They want to recruit you to join their side.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '14px',\n          marginTop: '8px',\n          opacity: 0.8\n        },\n        children: \"If you accept, you will become a Traitor and help eliminate the remaining Faithful.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px',\n          display: 'flex',\n          gap: '16px',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: () => onRecruitmentResponse(true),\n          children: \"Accept Recruitment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          onClick: () => onRecruitmentResponse(false),\n          children: \"Remain Faithful\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 9\n    }, this), gameState.phase === 'game_over' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-over\",\n      role: \"alert\",\n      \"aria-live\": \"assertive\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDFC6 Game Over\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '32px',\n          margin: '20px 0'\n        },\n        children: gameState.winner === 'faithful' ? 'ðŸ›¡ï¸ FAITHFUL WIN!' : 'ðŸ¦¹ TRAITORS WIN!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: gameState.winner === 'faithful' ? 'The Faithful successfully identified and eliminated all Traitors!' : 'The Traitors successfully eliminated the Faithful and took control!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: () => window.location.reload(),\n        style: {\n          marginTop: '20px'\n        },\n        children: \"Play Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 24,\n        right: 24,\n        zIndex: 2100\n      },\n      children: [playerRole === 'traitor' && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          background: '#ff6b6b',\n          color: '#fff',\n          padding: '8px 16px',\n          borderRadius: 8,\n          fontWeight: 700,\n          fontSize: 18,\n          boxShadow: '0 2px 8px #ff6b6b55'\n        },\n        children: \"\\uD83E\\uDDB9 TRAITOR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 11\n      }, this), playerRole === 'faithful' && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          background: '#4ecdc4',\n          color: '#fff',\n          padding: '8px 16px',\n          borderRadius: 8,\n          fontWeight: 700,\n          fontSize: 18,\n          boxShadow: '0 2px 8px #4ecdc455'\n        },\n        children: \"\\uD83D\\uDEE1\\uFE0F FAITHFUL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 7\n    }, this), playerRole === 'traitor' && gameState.traitorNames && gameState.traitorNames.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: '#222',\n        color: '#ff6b6b',\n        padding: 16,\n        borderRadius: 12,\n        margin: '24px 0',\n        textAlign: 'center',\n        fontWeight: 700\n      },\n      children: [\"Other Traitors: \", gameState.traitorNames.join(', ')]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 9\n    }, this), gameState.phase === 'group_discussion' && gameState.allChatRooms && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '16px 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          color: '#4ecdc4',\n          marginBottom: 8\n        },\n        children: \"Active Chat Rooms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 11\n      }, this), gameState.allChatRooms.map(room => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#222',\n          color: '#fff',\n          borderRadius: 8,\n          padding: 12,\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 700\n          },\n          children: room.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 13,\n            color: '#4ecdc4',\n            marginBottom: 4\n          },\n          children: [\"Members: \", room.members.join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 15\n        }, this), room.members.includes(playerName) && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 4\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: 12,\n              color: '#fff'\n            },\n            children: \"Invite: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 19\n          }, this), gameState.players.filter(p => !room.members.includes(p.name) && !p.isEliminated).map(p => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            style: {\n              fontSize: 10,\n              marginLeft: 4\n            },\n            onClick: () => socket.emit('inviteToChatRoom', {\n              roomId: room.roomId,\n              targetId: p.id\n            }),\n            children: p.name\n          }, p.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 21\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 17\n        }, this)]\n      }, room.roomId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 634,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        textAlign: 'center',\n        color: '#fff',\n        fontSize: 14\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        style: {\n          marginBottom: 8,\n          fontSize: 13\n        },\n        onClick: () => setShowFutureFeatures(v => !v),\n        \"aria-expanded\": showFutureFeatures,\n        \"aria-controls\": \"future-features-panel\",\n        children: showFutureFeatures ? 'Hide Future Features' : 'Show Future Features'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 9\n      }, this), showFutureFeatures && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"future-features-panel\",\n        style: {\n          marginTop: 8,\n          background: '#181818',\n          borderRadius: 8,\n          padding: 16,\n          boxShadow: '0 2px 8px #0006',\n          maxWidth: 400,\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            listStyle: 'disc',\n            margin: 0,\n            paddingLeft: 20,\n            textAlign: 'left'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Video call support for group meetings and discussions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Audio chat for more immersive gameplay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Advanced moderation tools (mute, kick, report)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"AI host to guide the game and enforce rules\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"More social deduction tools (anonymous voting, secret clues, etc.)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PhaseBanner, {\n      phase: gameState.phase\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 681,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toast, {\n      message: toast.message,\n      type: toast.type,\n      onClose: () => setToast({\n        message: '',\n        type: 'info'\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 684,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 256,\n    columnNumber: 5\n  }, this);\n}\n\n// Helper function for player initials\n_s(GameRoom, \"weA5J4JXn3iAcg/zDUqTutg/4oY=\");\n_c = GameRoom;\nfunction getInitials(name) {\n  return name.split(' ').map(word => word.charAt(0)).join('').toUpperCase().slice(0, 2);\n}\nexport default GameRoom;\nvar _c;\n$RefreshReg$(_c, \"GameRoom\");","map":{"version":3,"names":["React","useState","useEffect","GameTimeline","PlayerCard","ChatSystem","PhaseBanner","Toast","jsxDEV","_jsxDEV","formatTime","ms","totalSeconds","Math","max","floor","Date","now","min","sec","toString","padStart","PHASE_LABELS","role_assignment","traitor_meeting","group_discussion","voting","recruitment","game_over","GameRoom","gameState","playerRole","playerName","onVote","onSendMessage","onRecruitmentResponse","socket","_s","_gameState$players$fi","_gameState$players$fi2","_gameState$players$fi3","message","setMessage","selectedVote","setSelectedVote","timer","setTimer","activeRoom","setActiveRoom","privateMessages","setPrivateMessages","newRoomName","setNewRoomName","activePrivateChat","setActivePrivateChat","showPhaseTransition","setShowPhaseTransition","showRoleReveal","setShowRoleReveal","showCountdownWarning","setShowCountdownWarning","votingProgress","setVotingProgress","accessibilityAnnouncement","setAccessibilityAnnouncement","traitorNames","setTraitorNames","showFutureFeatures","setShowFutureFeatures","toast","setToast","type","announceToScreenReader","setTimeout","alivePlayers","players","filter","p","isEliminated","canVote","phase","find","id","hasVoted","canChat","chatRoom","recruitmentOffer","availableFaithful","includes","availableRooms","chatRooms","canStartPrivateChat","phaseEndTime","interval","setInterval","timeLeft","clearInterval","length","votedCount","progress","clearTimeout","handleMessage","msg","on","off","handlePrivateMessage","prev","key","from","to","handlePrivateChatStarted","targetId","handlePlayerEliminated","role","handleVoteCast","voterName","targetName","handleRecruitmentOffer","eliminatedPlayerName","handleRoleAssignment","handleConsensus","consensus","target","statusDiv","document","getElementById","_alivePlayers$find","textContent","name","style","color","handleNightKillConsensus","_alivePlayers$find2","handleCreateRoom","emit","roomName","handleJoinRoom","roomId","handleSendRoomMessage","handleStartPrivateChat","handleSendPrivateMessage","handleVote","targetPlayerId","targetPlayer","handleNightKillVote","className","children","position","left","width","height","overflow","fileName","_jsxFileName","lineNumber","columnNumber","viewBox","top","zIndex","pointerEvents","x1","y1","x2","y2","offset","stopColor","stopOpacity","x","y","stdDeviation","cx","cy","rx","ry","fill","animation","right","background","transition","transform","fontSize","margin","map","player","onStartPrivateChat","onSendRoomMessage","onSendPrivateMessage","onCreateRoom","onJoinRoom","textAlign","marginBottom","letterSpacing","fontWeight","round","borderRadius","boxShadow","padding","_gameState$players$fi4","onClick","disabled","border","undefined","getInitials","marginTop","display","gap","flexWrap","opacity","justifyContent","winner","window","location","reload","join","allChatRooms","room","members","marginLeft","v","maxWidth","marginRight","listStyle","paddingLeft","onClose","_c","split","word","charAt","toUpperCase","slice","$RefreshReg$"],"sources":["D:/Traitors/client/src/components/GameRoom.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport GameTimeline from './GameTimeline';\r\nimport PlayerCard from './PlayerCard';\r\nimport ChatSystem from './ChatSystem';\r\nimport PhaseBanner from './PhaseBanner';\r\nimport Toast from './Toast';\r\n\r\nfunction formatTime(ms) {\r\n  const totalSeconds = Math.max(0, Math.floor((ms - Date.now()) / 1000));\r\n  const min = Math.floor(totalSeconds / 60);\r\n  const sec = totalSeconds % 60;\r\n  return `${min}:${sec.toString().padStart(2, '0')}`;\r\n}\r\n\r\nconst PHASE_LABELS = {\r\n  role_assignment: 'Role Assignment',\r\n  traitor_meeting: \"Traitors' Secret Meeting\",\r\n  group_discussion: 'Group Discussion',\r\n  voting: 'Circle of Doubt (Voting)',\r\n  recruitment: 'Traitor Recruitment',\r\n  game_over: 'Game Over',\r\n};\r\n\r\nfunction GameRoom({ gameState, playerRole, playerName, onVote, onSendMessage, onRecruitmentResponse, socket }) {\r\n  const [message, setMessage] = useState('');\r\n  const [selectedVote, setSelectedVote] = useState(null);\r\n  const [timer, setTimer] = useState('');\r\n  const [activeRoom, setActiveRoom] = useState(null);\r\n  const [privateMessages, setPrivateMessages] = useState({});\r\n  const [newRoomName, setNewRoomName] = useState('');\r\n  const [activePrivateChat, setActivePrivateChat] = useState(null);\r\n  const [showPhaseTransition, setShowPhaseTransition] = useState(false);\r\n  const [showRoleReveal, setShowRoleReveal] = useState(false);\r\n  const [showCountdownWarning, setShowCountdownWarning] = useState(false);\r\n  const [votingProgress, setVotingProgress] = useState(0);\r\n  const [accessibilityAnnouncement, setAccessibilityAnnouncement] = useState('');\r\n  const [traitorNames, setTraitorNames] = useState([]);\r\n  const [showFutureFeatures, setShowFutureFeatures] = useState(false);\r\n  const [toast, setToast] = useState({ message: '', type: 'info' });\r\n\r\n  // Announce accessibility events\r\n  const announceToScreenReader = (message) => {\r\n    setAccessibilityAnnouncement(message);\r\n    setTimeout(() => setAccessibilityAnnouncement(''), 1000);\r\n  };\r\n\r\n  // Define variables that are used in useEffect hooks\r\n  const alivePlayers = gameState.players.filter(p => !p.isEliminated);\r\n  const canVote = gameState.phase === 'voting' && !gameState.players.find(p => p.id === socket.id)?.hasVoted;\r\n  const canChat =\r\n    (gameState.phase === 'traitor_meeting' && playerRole === 'traitor') ||\r\n    (gameState.phase === 'group_discussion' && !gameState.players.find(p => p.id === socket.id)?.isEliminated);\r\n  const chatRoom = playerRole === 'traitor' ? 'traitor' : 'faithful';\r\n  const recruitmentOffer = gameState.recruitmentOffer && gameState.recruitmentOffer.availableFaithful.includes(socket.id);\r\n  const availableRooms = gameState.chatRooms || [];\r\n  const canStartPrivateChat = gameState.phase === 'group_discussion' || gameState.phase === 'traitor_meeting';\r\n\r\n  useEffect(() => {\r\n    if (gameState.phaseEndTime) {\r\n      const interval = setInterval(() => {\r\n        const timeLeft = Math.max(0, Math.floor((gameState.phaseEndTime - Date.now()) / 1000));\r\n        setTimer(formatTime(gameState.phaseEndTime));\r\n        \r\n        // Show countdown warning for last 10 seconds\r\n        if (timeLeft <= 10 && timeLeft > 0) {\r\n          setShowCountdownWarning(true);\r\n        } else {\r\n          setShowCountdownWarning(false);\r\n        }\r\n      }, 1000);\r\n      setTimer(formatTime(gameState.phaseEndTime));\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [gameState.phaseEndTime]);\r\n\r\n  // Calculate voting progress\r\n  useEffect(() => {\r\n    if (gameState.phase === 'voting' && alivePlayers.length > 0) {\r\n      const votedCount = alivePlayers.filter(p => p.hasVoted).length;\r\n      const progress = (votedCount / alivePlayers.length) * 100;\r\n      setVotingProgress(progress);\r\n    }\r\n  }, [gameState.phase, alivePlayers]);\r\n\r\n  // Phase transition effect\r\n  useEffect(() => {\r\n    setShowPhaseTransition(true);\r\n    const timer = setTimeout(() => setShowPhaseTransition(false), 2000);\r\n    return () => clearTimeout(timer);\r\n  }, [gameState.phase]);\r\n\r\n  // Role reveal effect\r\n  useEffect(() => {\r\n    if (gameState.phase === 'role_assignment' && playerRole) {\r\n      setShowRoleReveal(true);\r\n      const timer = setTimeout(() => setShowRoleReveal(false), 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [gameState.phase, playerRole]);\r\n\r\n  useEffect(() => {\r\n    const handleMessage = (msg) => {\r\n      // Handle message if needed\r\n    };\r\n    socket.on('message', handleMessage);\r\n    return () => socket.off('message', handleMessage);\r\n  }, [socket]);\r\n\r\n  // Private chat events\r\n  useEffect(() => {\r\n    const handlePrivateMessage = (msg) => {\r\n      setPrivateMessages((prev) => {\r\n        const key = msg.from === socket.id ? msg.to : msg.from;\r\n        return {\r\n          ...prev,\r\n          [key]: [...(prev[key] || []), msg]\r\n        };\r\n      });\r\n    };\r\n    socket.on('privateMessage', handlePrivateMessage);\r\n    return () => socket.off('privateMessage', handlePrivateMessage);\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    const handlePrivateChatStarted = ({ targetId }) => {\r\n      setActivePrivateChat(targetId);\r\n    };\r\n    socket.on('privateChatStarted', handlePrivateChatStarted);\r\n    return () => socket.off('privateChatStarted', handlePrivateChatStarted);\r\n  }, [socket]);\r\n\r\n  // Listen for elimination events\r\n  useEffect(() => {\r\n    const handlePlayerEliminated = ({ playerName, role }) => {\r\n      announceToScreenReader(`${playerName} has been eliminated. They were a ${role}.`);\r\n    };\r\n    \r\n    socket.on('playerEliminated', handlePlayerEliminated);\r\n    return () => socket.off('playerEliminated', handlePlayerEliminated);\r\n  }, [socket]);\r\n\r\n  // Listen for voting events\r\n  useEffect(() => {\r\n    const handleVoteCast = ({ voterName, targetName }) => {\r\n      announceToScreenReader(`${voterName} voted to eliminate ${targetName}`);\r\n    };\r\n    \r\n    socket.on('voteCast', handleVoteCast);\r\n    return () => socket.off('voteCast', handleVoteCast);\r\n  }, [socket]);\r\n\r\n  // Listen for recruitment events\r\n  useEffect(() => {\r\n    const handleRecruitmentOffer = ({ eliminatedPlayerName }) => {\r\n      announceToScreenReader(`${eliminatedPlayerName} wants to recruit you to become a traitor`);\r\n    };\r\n    \r\n    socket.on('recruitmentOffer', handleRecruitmentOffer);\r\n    return () => socket.off('recruitmentOffer', handleRecruitmentOffer);\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    // Listen for roleAssignment event to get traitorNames\r\n    const handleRoleAssignment = ({ role, traitorNames }) => {\r\n      if (role === 'traitor' && traitorNames) setTraitorNames(traitorNames);\r\n    };\r\n    socket.on('roleAssignment', handleRoleAssignment);\r\n    return () => socket.off('roleAssignment', handleRoleAssignment);\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    if (playerRole !== 'traitor') return;\r\n    const handleConsensus = ({ consensus, target }) => {\r\n      const statusDiv = document.getElementById('traitor-consensus-status');\r\n      if (!statusDiv) return;\r\n      if (consensus === true) {\r\n        statusDiv.textContent = `Consensus reached! All traitors voted for ${alivePlayers.find(p => p.id === target)?.name || 'the same player'}.`;\r\n        statusDiv.style.color = '#27ae60';\r\n      } else if (consensus === false) {\r\n        statusDiv.textContent = 'No consensus. All traitors must vote for the same player.';\r\n        statusDiv.style.color = '#e74c3c';\r\n      } else {\r\n        statusDiv.textContent = 'Waiting for all traitors to vote...';\r\n        statusDiv.style.color = '#ff6b6b';\r\n      }\r\n    };\r\n    socket.on('traitorConsensus', handleConsensus);\r\n    return () => socket.off('traitorConsensus', handleConsensus);\r\n  }, [playerRole, socket, alivePlayers]);\r\n\r\n  useEffect(() => {\r\n    if (playerRole !== 'traitor') return;\r\n    const handleNightKillConsensus = ({ consensus, target }) => {\r\n      const statusDiv = document.getElementById('traitor-night-kill-status');\r\n      if (!statusDiv) return;\r\n      if (consensus === true) {\r\n        statusDiv.textContent = `Consensus reached! All traitors voted to eliminate ${alivePlayers.find(p => p.id === target)?.name || 'the same player'}.`;\r\n        statusDiv.style.color = '#27ae60';\r\n      } else if (consensus === false) {\r\n        statusDiv.textContent = 'No consensus. All traitors must vote for the same player.';\r\n        statusDiv.style.color = '#e74c3c';\r\n      } else {\r\n        statusDiv.textContent = 'Waiting for all traitors to vote...';\r\n        statusDiv.style.color = '#ff6b6b';\r\n      }\r\n    };\r\n    socket.on('traitorNightKillConsensus', handleNightKillConsensus);\r\n    return () => socket.off('traitorNightKillConsensus', handleNightKillConsensus);\r\n  }, [playerRole, socket, alivePlayers]);\r\n\r\n  const handleCreateRoom = () => {\r\n    if (newRoomName) {\r\n      socket.emit('createChatRoom', { roomName: newRoomName });\r\n      setNewRoomName('');\r\n    }\r\n  };\r\n\r\n  const handleJoinRoom = (roomId) => {\r\n    socket.emit('joinChatRoom', { roomId });\r\n    setActiveRoom(roomId);\r\n  };\r\n\r\n  const handleSendRoomMessage = () => {\r\n    if (activeRoom && message) {\r\n      socket.emit('sendRoomMessage', { roomId: activeRoom, message });\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  const handleStartPrivateChat = (targetId) => {\r\n    socket.emit('startPrivateChat', { targetId });\r\n  };\r\n\r\n  const handleSendPrivateMessage = () => {\r\n    if (activePrivateChat && message) {\r\n      socket.emit('sendPrivateMessage', { targetId: activePrivateChat, message });\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  const handleVote = (targetPlayerId) => {\r\n    const targetPlayer = alivePlayers.find(p => p.id === targetPlayerId);\r\n    setSelectedVote(targetPlayerId);\r\n    onVote(targetPlayerId);\r\n    announceToScreenReader(`You voted to eliminate ${targetPlayer?.name}`);\r\n  };\r\n\r\n  const handleNightKillVote = (targetPlayerId) => {\r\n    const targetPlayer = alivePlayers.find(p => p.id === targetPlayerId);\r\n    setSelectedVote(targetPlayerId);\r\n    socket.emit('traitorNightKillVote', { targetPlayerId });\r\n    announceToScreenReader(`You voted to eliminate ${targetPlayer?.name}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* Accessibility Live Region */}\r\n      <div \r\n        aria-live=\"polite\" \r\n        aria-atomic=\"true\"\r\n        style={{ \r\n          position: 'absolute', \r\n          left: '-10000px', \r\n          width: '1px', \r\n          height: '1px', \r\n          overflow: 'hidden' \r\n        }}\r\n      >\r\n        {accessibilityAnnouncement}\r\n      </div>\r\n\r\n      {/* Phase Transition Overlay */}\r\n      {showPhaseTransition && (\r\n        <div className=\"phase-transition\">\r\n          {/* Animated SVG Overlay: Swirling Mist */}\r\n          <svg\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            viewBox=\"0 0 1920 1080\"\r\n            style={{ position: 'absolute', top: 0, left: 0, zIndex: 1, pointerEvents: 'none' }}\r\n            aria-hidden=\"true\"\r\n          >\r\n            <defs>\r\n              <linearGradient id=\"mistGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.12\" />\r\n                <stop offset=\"100%\" stopColor=\"#fff\" stopOpacity=\"0.04\" />\r\n              </linearGradient>\r\n              <filter id=\"blur\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\r\n                <feGaussianBlur stdDeviation=\"24\" />\r\n              </filter>\r\n            </defs>\r\n            <ellipse\r\n              cx=\"960\"\r\n              cy=\"540\"\r\n              rx=\"900\"\r\n              ry=\"180\"\r\n              fill=\"url(#mistGradient)\"\r\n              filter=\"url(#blur)\"\r\n              style={{ animation: 'mist-move 6s linear infinite alternate' }}\r\n            />\r\n            <ellipse\r\n              cx=\"960\"\r\n              cy=\"700\"\r\n              rx=\"700\"\r\n              ry=\"120\"\r\n              fill=\"url(#mistGradient)\"\r\n              filter=\"url(#blur)\"\r\n              style={{ animation: 'mist-move2 8s linear infinite alternate' }}\r\n            />\r\n          </svg>\r\n          {/* Flickering Torch Effect (left/right) */}\r\n          <div style={{ position: 'absolute', left: 60, top: '30%', zIndex: 2 }}>\r\n            <span className=\"torch-flame\" />\r\n          </div>\r\n          <div style={{ position: 'absolute', right: 60, top: '30%', zIndex: 2 }}>\r\n            <span className=\"torch-flame\" />\r\n          </div>\r\n          <div className=\"phase-transition-text\" style={{ position: 'relative', zIndex: 3 }}>\r\n            {PHASE_LABELS[gameState.phase]}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add a background overlay for tense phases */}\r\n      {['voting', 'recruitment', 'game_over'].includes(gameState.phase) && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100vw',\r\n          height: '100vh',\r\n          background: 'rgba(10,10,20,0.55)',\r\n          zIndex: 900,\r\n          pointerEvents: 'none',\r\n          transition: 'background 0.8s',\r\n        }} aria-hidden=\"true\" />\r\n      )}\r\n\r\n      {/* Role Reveal */}\r\n      {showRoleReveal && (\r\n        <div className=\"role-reveal\" style={{ zIndex: 1200, position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }}>\r\n          <h2>Your Role</h2>\r\n          <div style={{ fontSize: '32px', margin: '16px 0' }}>\r\n            {playerRole === 'traitor' ? 'ðŸ¦¹ TRAITOR' : 'ðŸ›¡ï¸ FAITHFUL'}\r\n          </div>\r\n          <p>\r\n            {playerRole === 'traitor' \r\n              ? 'Your mission is to eliminate the Faithful without being discovered.'\r\n              : 'Your mission is to identify and eliminate the Traitors.'\r\n            }\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Game Timeline */}\r\n      <GameTimeline gameState={gameState} timer={timer} />\r\n\r\n      {/* Player List */}\r\n      <div className=\"player-list\">\r\n        {gameState.players.map(player => (\r\n          <PlayerCard\r\n            key={player.id}\r\n            player={player}\r\n            playerRole={playerRole}\r\n            canStartPrivateChat={canStartPrivateChat}\r\n            onStartPrivateChat={handleStartPrivateChat}\r\n            socket={socket}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Chat System - Always visible, high z-index, not covered by overlays */}\r\n      {(gameState.phase !== 'group_discussion' || !gameState.players.find(p => p.id === socket.id)?.isEliminated) && (\r\n        <div style={{ position: 'relative', zIndex: 1500 }}>\r\n          <ChatSystem\r\n            gameState={gameState}\r\n            playerRole={playerRole}\r\n            canChat={canChat}\r\n            chatRoom={chatRoom}\r\n            activeRoom={activeRoom}\r\n            setActiveRoom={setActiveRoom}\r\n            activePrivateChat={activePrivateChat}\r\n            setActivePrivateChat={setActivePrivateChat}\r\n            privateMessages={privateMessages}\r\n            availableRooms={availableRooms}\r\n            newRoomName={newRoomName}\r\n            setNewRoomName={setNewRoomName}\r\n            onSendMessage={onSendMessage}\r\n            onSendRoomMessage={handleSendRoomMessage}\r\n            onSendPrivateMessage={handleSendPrivateMessage}\r\n            onCreateRoom={handleCreateRoom}\r\n            onJoinRoom={handleJoinRoom}\r\n            onStartPrivateChat={handleStartPrivateChat}\r\n            socket={socket}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Voting Interface */}\r\n      {gameState.phase === 'voting' && (\r\n        <div className=\"card\" role=\"region\" aria-label=\"Voting interface\">\r\n          <h3 style={{ textAlign: 'center', marginBottom: '20px', color: '#ff6b6b', letterSpacing: 1, fontWeight: 700, fontSize: 24 }}>\r\n            ðŸ—³ï¸ Circle of Doubt - Vote to Eliminate\r\n          </h3>\r\n          \r\n          {/* Voting Progress Bar */}\r\n          <div \r\n            role=\"progressbar\"\r\n            aria-valuenow={votingProgress}\r\n            aria-valuemin=\"0\"\r\n            aria-valuemax=\"100\"\r\n            aria-label={`Voting progress: ${Math.round(votingProgress)}% of players have voted`}\r\n            style={{ \r\n              background: 'rgba(255,255,255,0.1)', \r\n              borderRadius: 8, \r\n              height: 8, \r\n              marginBottom: 20,\r\n              overflow: 'hidden',\r\n              position: 'relative'\r\n            }}\r\n          >\r\n            <div style={{\r\n              background: 'linear-gradient(90deg, #27ae60, #2ecc71)',\r\n              height: '100%',\r\n              width: `${votingProgress}%`,\r\n              transition: 'width 0.5s ease',\r\n              borderRadius: 8,\r\n              boxShadow: '0 0 8px #27ae60'\r\n            }} />\r\n            <div style={{\r\n              position: 'absolute',\r\n              top: '50%',\r\n              left: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              fontSize: 12,\r\n              color: 'rgba(255,255,255,0.8)',\r\n              fontWeight: 600\r\n            }}>\r\n              {Math.round(votingProgress)}% Voted\r\n            </div>\r\n          </div>\r\n\r\n          {/* Countdown Warning */}\r\n          {showCountdownWarning && (\r\n            <div \r\n              role=\"alert\"\r\n              aria-live=\"assertive\"\r\n              style={{\r\n                textAlign: 'center',\r\n                padding: '12px',\r\n                background: 'linear-gradient(45deg, #e74c3c, #c0392b)',\r\n                borderRadius: 8,\r\n                marginBottom: 16,\r\n                animation: 'countdown-pulse 0.5s infinite alternate',\r\n                color: 'white',\r\n                fontWeight: 'bold',\r\n                fontSize: 18\r\n              }}\r\n            >\r\n              â° Voting ends soon!\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"voting-container\" aria-label=\"Voting area\">\r\n            {alivePlayers.map(player => (\r\n              <button\r\n                key={player.id}\r\n                className={`vote-button${selectedVote === player.id ? ' selected' : ''}${player.hasVoted ? ' voted' : ''}`}\r\n                onClick={() => handleVote(player.id)}\r\n                disabled={player.id === socket.id || gameState.players.find(p => p.id === socket.id)?.hasVoted}\r\n                aria-label={`Vote to eliminate ${player.name}${player.hasVoted ? ' - Already voted' : ''}${player.id === socket.id ? ' - This is you' : ''}`}\r\n                aria-pressed={selectedVote === player.id}\r\n                style={{\r\n                  transition: 'box-shadow 0.3s, transform 0.3s',\r\n                  boxShadow: selectedVote === player.id ? '0 0 16px 4px #ff6b6b88' : '0 2px 8px #0002',\r\n                  transform: selectedVote === player.id ? 'scale(1.05)' : 'scale(1)',\r\n                  border: player.hasVoted ? '3px solid #27ae60' : undefined,\r\n                  background: player.hasVoted ? 'linear-gradient(45deg, #27ae60, #2ecc71)' : undefined,\r\n                  color: player.hasVoted ? '#fff' : undefined,\r\n                  position: 'relative',\r\n                  overflow: 'hidden'\r\n                }}\r\n              >\r\n                {/* Ripple effect for selection */}\r\n                {selectedVote === player.id && (\r\n                  <div className=\"vote-ripple\" />\r\n                )}\r\n                \r\n                <div style={{ fontSize: '28px', marginBottom: '8px', fontWeight: 700 }}>\r\n                  {getInitials(player.name)}\r\n                </div>\r\n                <div style={{ fontSize: 18 }}>{player.name}</div>\r\n                {player.hasVoted && (\r\n                  <div style={{ \r\n                    fontSize: '14px', \r\n                    color: '#fff', \r\n                    marginTop: 6,\r\n                    animation: 'vote-check-bounce 0.6s ease-out'\r\n                  }}>\r\n                    âœ“ Voted\r\n                  </div>\r\n                )}\r\n                {player.id === socket.id && (\r\n                  <div style={{ \r\n                    fontSize: '12px', \r\n                    color: '#ffd700', \r\n                    marginTop: 6,\r\n                    fontWeight: 'bold'\r\n                  }}>\r\n                    You\r\n                  </div>\r\n                )}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Voting Instructions */}\r\n          <div \r\n            role=\"status\"\r\n            aria-live=\"polite\"\r\n            style={{\r\n              textAlign: 'center',\r\n              marginTop: 20,\r\n              padding: 12,\r\n              background: 'rgba(255,255,255,0.05)',\r\n              borderRadius: 8,\r\n              fontSize: 14,\r\n              color: 'rgba(255,255,255,0.8)'\r\n            }}\r\n          >\r\n            {canVote ? (\r\n              <span>Click on a player to cast your vote</span>\r\n            ) : (\r\n              <span>You have already voted</span>\r\n            )}\r\n          </div>\r\n\r\n          {/* Traitor Night Kill */}\r\n          {gameState.phase === 'traitor_meeting' && playerRole === 'traitor' && (\r\n            <div className=\"traitor-night-kill\" style={{ margin: '20px 0', padding: 16, background: '#222', borderRadius: 8, color: '#ff6b6b' }}>\r\n              <h4>Traitor Night Kill</h4>\r\n              <p>Select a player to eliminate tonight. All traitors must agree.</p>\r\n              <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                {alivePlayers.filter(p => p.role !== 'traitor').map(player => (\r\n                  <button\r\n                    key={player.id}\r\n                    className={`btn${selectedVote === player.id ? ' btn-danger' : ' btn-secondary'}`}\r\n                    onClick={() => handleNightKillVote(player.id)}\r\n                    disabled={selectedVote === player.id}\r\n                  >\r\n                    {player.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              <div id=\"traitor-night-kill-status\" style={{ marginTop: 12, fontWeight: 700 }}></div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Recruitment Offer */}\r\n      {gameState.phase === 'recruitment' && recruitmentOffer && (\r\n        <div \r\n          className=\"recruitment-offer\"\r\n          role=\"alert\"\r\n          aria-live=\"assertive\"\r\n        >\r\n          <h2>ðŸ”„ Traitor Recruitment</h2>\r\n          <p>A traitor has been eliminated! They want to recruit you to join their side.</p>\r\n          <p style={{ fontSize: '14px', marginTop: '8px', opacity: 0.8 }}>\r\n            If you accept, you will become a Traitor and help eliminate the remaining Faithful.\r\n          </p>\r\n          <div style={{ marginTop: '20px', display: 'flex', gap: '16px', justifyContent: 'center' }}>\r\n            <button className=\"btn btn-danger\" onClick={() => onRecruitmentResponse(true)}>\r\n              Accept Recruitment\r\n            </button>\r\n            <button className=\"btn btn-success\" onClick={() => onRecruitmentResponse(false)}>\r\n              Remain Faithful\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Game Over */}\r\n      {gameState.phase === 'game_over' && (\r\n        <div \r\n          className=\"game-over\"\r\n          role=\"alert\"\r\n          aria-live=\"assertive\"\r\n        >\r\n          <h2>ðŸ† Game Over</h2>\r\n          <div style={{ fontSize: '32px', margin: '20px 0' }}>\r\n            {gameState.winner === 'faithful' ? 'ðŸ›¡ï¸ FAITHFUL WIN!' : 'ðŸ¦¹ TRAITORS WIN!'}\r\n          </div>\r\n          <p>\r\n            {gameState.winner === 'faithful' \r\n              ? 'The Faithful successfully identified and eliminated all Traitors!'\r\n              : 'The Traitors successfully eliminated the Faithful and took control!'\r\n            }\r\n          </p>\r\n          <button \r\n            className=\"btn\" \r\n            onClick={() => window.location.reload()}\r\n            style={{ marginTop: '20px' }}\r\n          >\r\n            Play Again\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Role Badge - Always visible, fixed top right */}\r\n      <div style={{ position: 'fixed', top: 24, right: 24, zIndex: 2100 }}>\r\n        {playerRole === 'traitor' && (\r\n          <span style={{ background: '#ff6b6b', color: '#fff', padding: '8px 16px', borderRadius: 8, fontWeight: 700, fontSize: 18, boxShadow: '0 2px 8px #ff6b6b55' }}>\r\n            ðŸ¦¹ TRAITOR\r\n          </span>\r\n        )}\r\n        {playerRole === 'faithful' && (\r\n          <span style={{ background: '#4ecdc4', color: '#fff', padding: '8px 16px', borderRadius: 8, fontWeight: 700, fontSize: 18, boxShadow: '0 2px 8px #4ecdc455' }}>\r\n            ðŸ›¡ï¸ FAITHFUL\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {/* Show traitor names to traitors at all times */}\r\n      {playerRole === 'traitor' && gameState.traitorNames && gameState.traitorNames.length > 0 && (\r\n        <div style={{ background: '#222', color: '#ff6b6b', padding: 16, borderRadius: 12, margin: '24px 0', textAlign: 'center', fontWeight: 700 }}>\r\n          Other Traitors: {gameState.traitorNames.join(', ')}\r\n        </div>\r\n      )}\r\n\r\n      {/* Faithful Discussion: Show all chat rooms and members, allow inviting */}\r\n      {gameState.phase === 'group_discussion' && gameState.allChatRooms && (\r\n        <div style={{ margin: '16px 0' }}>\r\n          <h4 style={{ color: '#4ecdc4', marginBottom: 8 }}>Active Chat Rooms</h4>\r\n          {gameState.allChatRooms.map(room => (\r\n            <div key={room.roomId} style={{ background: '#222', color: '#fff', borderRadius: 8, padding: 12, marginBottom: 8 }}>\r\n              <div style={{ fontWeight: 700 }}>{room.name}</div>\r\n              <div style={{ fontSize: 13, color: '#4ecdc4', marginBottom: 4 }}>Members: {room.members.join(', ')}</div>\r\n              {/* Invite others if you are a member */}\r\n              {room.members.includes(playerName) && (\r\n                <div style={{ marginTop: 4 }}>\r\n                  <span style={{ fontSize: 12, color: '#fff' }}>Invite: </span>\r\n                  {gameState.players.filter(p => !room.members.includes(p.name) && !p.isEliminated).map(p => (\r\n                    <button key={p.id} className=\"btn btn-secondary\" style={{ fontSize: 10, marginLeft: 4 }} onClick={() => socket.emit('inviteToChatRoom', { roomId: room.roomId, targetId: p.id })}>\r\n                      {p.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Future Features Note */}\r\n      <div style={{ marginTop: '20px', textAlign: 'center', color: '#fff', fontSize: 14 }}>\r\n        <button\r\n          className=\"btn btn-secondary\"\r\n          style={{ marginBottom: 8, fontSize: 13 }}\r\n          onClick={() => setShowFutureFeatures(v => !v)}\r\n          aria-expanded={showFutureFeatures}\r\n          aria-controls=\"future-features-panel\"\r\n        >\r\n          {showFutureFeatures ? 'Hide Future Features' : 'Show Future Features'}\r\n        </button>\r\n        {showFutureFeatures && (\r\n          <div id=\"future-features-panel\" style={{ marginTop: 8, background: '#181818', borderRadius: 8, padding: 16, boxShadow: '0 2px 8px #0006', maxWidth: 400, marginLeft: 'auto', marginRight: 'auto' }}>\r\n            <ul style={{ listStyle: 'disc', margin: 0, paddingLeft: 20, textAlign: 'left' }}>\r\n              <li>Video call support for group meetings and discussions</li>\r\n              <li>Audio chat for more immersive gameplay</li>\r\n              <li>Advanced moderation tools (mute, kick, report)</li>\r\n              <li>AI host to guide the game and enforce rules</li>\r\n              <li>More social deduction tools (anonymous voting, secret clues, etc.)</li>\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Show PhaseBanner at the top */}\r\n      <PhaseBanner phase={gameState.phase} />\r\n\r\n      {/* Show Toast notification */}\r\n      <Toast message={toast.message} type={toast.type} onClose={() => setToast({ message: '', type: 'info' })} />\r\n    </div>\r\n  );\r\n}\r\n\r\n// Helper function for player initials\r\nfunction getInitials(name) {\r\n  return name\r\n    .split(' ')\r\n    .map(word => word.charAt(0))\r\n    .join('')\r\n    .toUpperCase()\r\n    .slice(0, 2);\r\n}\r\n\r\nexport default GameRoom; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}